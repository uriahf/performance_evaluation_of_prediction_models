{
  "hash": "c6e4341fd277a3d764960012818a2695",
  "result": {
    "markdown": "---\ntitle: \"Performance Evaluation of Prediction Models with Binary Outcome\"\nauthor: \"Uriah Finkel\"\nformat:\n  revealjs:\n    theme:  [solarized, custom.scss]\n    incremental: true\n---\n\n\n## Agenda\n\n-   Introducing some of the most common or useful (and sometimes not so common) Performance Metrics and Curves.\n\n-   Discussing how and when to use (and when not to use) the mentioned performance metrics.\n\n## Code for Performance Metrics and Curves\n\nAll interactive plots in this presentation were created with [**rtichoke**](https://uriahf.github.io/rtichoke/) (I am the author ğŸ‘‹).\n\n![](https://rtichoke-blog.netlify.app/gaston_rtichoke.png){width=\"200\"}\n\nYou are also invited to explore [**rtichoke blog**](https://rtichoke-blog.netlify.app/) for reproducible examples and some theory.\n\n## Motivation\n\n### Why using performance metrics? ğŸ¥‡ğŸ¥ˆğŸ¥‰\n\n-   Choosing between different candidate models.\n-   Choosing between candidate features\n-   Choosing whether the prediction model will do more harm than good.\n\n## Motivation\n\n### Relevant Criteria besides Performance ğŸ¤”\n\n-   How difficult is it to implement the model?\n-   How difficult is it to explain the model?\n\n## Categories of Performance Metrics and Curves\n\n-   **Discrimination ğŸ––**: Model's ability to separate between events and non-events.\n\n-   **Calibration âš–ï¸**: Agreement between predicted probabilities and the observed outcomes.\n\n-   **Utility ğŸ‘Œ**: The usefulness of the model in terms of decision-making.\n\n------------------------------------------------------------------------\n\n::: columns\n::: {.column width=\"50%\"}\n### [Green]{style=\"color: green;\"} {style=\"text-align: center; font-size: 200px;\"}\n\n::: {style=\"height:123px; width:100%; clear:both;\"}\n:::\n\n### **ğŸ™‚** {style=\"text-align: center; font-size: 120px;\"}\n:::\n\n::: {.column width=\"50%\"}\n### [Red]{style=\"color: red;\"} {style=\"text-align: center; font-size: 200px;\"}\n\n::: {style=\"height:123px; width:100%; clear:both;\"}\n:::\n\n### **ğŸ™** {style=\"text-align: center; font-size: 120px;\"}\n:::\n:::\n\n------------------------------------------------------------------------\n\n::: columns\n::: {.column width=\"50%\"}\n### [Green]{style=\"color: green;\"} {style=\"text-align: center; font-size: 200px;\"}\n\n::: {style=\"height: 0px; width:100%; clear:both;\"}\n:::\n\n![](Maccabi_Haifa_FC_logo.svg){fig-align=\"center\" width=\"200\"}\n:::\n\n::: {.column width=\"50%\"}\n### [Red]{style=\"color: red;\"} {style=\"text-align: center; font-size: 200px;\"}\n\n::: {style=\"height: 49px; width:100%; clear:both;\"}\n:::\n\n![](Hapoel_Haifa_Football_Club_Logo.png){fig-align=\"center\" width=\"200\"}\n:::\n:::\n\n# Discrimination ğŸ––\n\n## Discrimination ğŸ––\n\nThis is the most known and used category of performance metrics and curves.\n\n## [True Positives]{style=\"color: green;\"} {.smaller}\n\n### Infected and Predicted as Infected - [Good]{style=\"color: green;\"}\n\n[**ğŸ’Š**]{style=\"font-size: 50px;\"} <br> [ğŸ¤¢]{style=\"font-size: 50px;\"}\n\n\n::: {.cell}\n::: {.cell-output-display}\n```{=html}\n<div id=\"htmlwidget-b7b0b7e7eaa609fafff1\" class=\"reactable html-widget\" style=\"width:auto;height:auto;\"></div>\n<script type=\"application/json\" data-for=\"htmlwidget-b7b0b7e7eaa609fafff1\">{\"x\":{\"tag\":{\"name\":\"Reactable\",\"attribs\":{\"data\":{\"type\":[\"Real Positive\",\"Real Negative\"],\"predicted_positive\":[\"TP\",\"FP\"],\"predicted_negative\":[\"FN\",\"TN\"]},\"columns\":[{\"accessor\":\"type\",\"name\":\"\",\"type\":\"character\",\"align\":\"left\",\"headerStyle\":{\"fontWeight\":100},\"minWidth\":200,\"style\":{\"fontWeight\":100}},{\"accessor\":\"predicted_positive\",\"name\":\"Predicted Positive\",\"type\":\"character\",\"align\":\"center\",\"headerStyle\":{\"fontWeight\":100},\"minWidth\":200,\"style\":[{\"fontWeight\":600,\"background\":\"lightgreen\"},{\"fontWeight\":600,\"background\":null}]},{\"accessor\":\"predicted_negative\",\"name\":\"Predicted Negative\",\"type\":\"character\",\"align\":\"center\",\"headerStyle\":{\"fontWeight\":100},\"minWidth\":200,\"style\":[{\"fontWeight\":600},{\"fontWeight\":600}]}],\"sortable\":false,\"defaultPageSize\":10,\"paginationType\":\"numbers\",\"showPageInfo\":true,\"minRows\":1,\"inline\":true,\"theme\":{\"backgroundColor\":\"#fdf6e3\"},\"dataKey\":\"0e87a4d202a6e42067acce914af1bd56\"},\"children\":[]},\"class\":\"reactR_markup\"},\"evals\":[],\"jsHooks\":[]}</script>\n```\n:::\n:::\n\n\n## [False Positives]{style=\"color: red;\"} {.smaller}\n\n### Not-Infected and Predicted as Infected - [BAD]{style=\"color: red;\"}\n\n[**ğŸ’Š**]{style=\"font-size: 50px;\"} <br> [ğŸ¤¨]{style=\"font-size: 50px;\"}\n\n\n::: {.cell}\n::: {.cell-output-display}\n```{=html}\n<div id=\"htmlwidget-1b4c31f57eae65a4e00f\" class=\"reactable html-widget\" style=\"width:auto;height:auto;\"></div>\n<script type=\"application/json\" data-for=\"htmlwidget-1b4c31f57eae65a4e00f\">{\"x\":{\"tag\":{\"name\":\"Reactable\",\"attribs\":{\"data\":{\"type\":[\"Real Positive\",\"Real Negative\"],\"predicted_positive\":[\"TP\",\"FP\"],\"predicted_negative\":[\"FN\",\"TN\"]},\"columns\":[{\"accessor\":\"type\",\"name\":\"\",\"type\":\"character\",\"align\":\"left\",\"headerStyle\":{\"fontWeight\":100},\"minWidth\":200,\"style\":{\"fontWeight\":100}},{\"accessor\":\"predicted_positive\",\"name\":\"Predicted Positive\",\"type\":\"character\",\"align\":\"center\",\"headerStyle\":{\"fontWeight\":100},\"minWidth\":200,\"style\":[{\"fontWeight\":600,\"background\":null},{\"fontWeight\":600,\"background\":\"pink\"}]},{\"accessor\":\"predicted_negative\",\"name\":\"Predicted Negative\",\"type\":\"character\",\"align\":\"center\",\"headerStyle\":{\"fontWeight\":100},\"minWidth\":200,\"style\":[{\"fontWeight\":600},{\"fontWeight\":600}]}],\"sortable\":false,\"defaultPageSize\":10,\"paginationType\":\"numbers\",\"showPageInfo\":true,\"minRows\":1,\"inline\":true,\"theme\":{\"backgroundColor\":\"#fdf6e3\"},\"dataKey\":\"481602af31df52dab4020d6cbdbba680\"},\"children\":[]},\"class\":\"reactR_markup\"},\"evals\":[],\"jsHooks\":[]}</script>\n```\n:::\n:::\n\n\n## [False Negatives]{style=\"color: red;\"} {.smaller}\n\n### Infected and Predicted as Not-Infected - [BAD]{style=\"color: red;\"}\n\n<br> [ğŸ¤¢]{style=\"font-size: 50px;\"}\n\n\n::: {.cell}\n::: {.cell-output-display}\n```{=html}\n<div id=\"htmlwidget-d54b3833052e4b392f0b\" class=\"reactable html-widget\" style=\"width:auto;height:auto;\"></div>\n<script type=\"application/json\" data-for=\"htmlwidget-d54b3833052e4b392f0b\">{\"x\":{\"tag\":{\"name\":\"Reactable\",\"attribs\":{\"data\":{\"type\":[\"Real Positive\",\"Real Negative\"],\"predicted_positive\":[\"TP\",\"FP\"],\"predicted_negative\":[\"FN\",\"TN\"]},\"columns\":[{\"accessor\":\"type\",\"name\":\"\",\"type\":\"character\",\"align\":\"left\",\"headerStyle\":{\"fontWeight\":100},\"minWidth\":200,\"style\":{\"fontWeight\":100}},{\"accessor\":\"predicted_positive\",\"name\":\"Predicted Positive\",\"type\":\"character\",\"align\":\"center\",\"headerStyle\":{\"fontWeight\":100},\"minWidth\":200,\"style\":[{\"fontWeight\":600},{\"fontWeight\":600}]},{\"accessor\":\"predicted_negative\",\"name\":\"Predicted Negative\",\"type\":\"character\",\"align\":\"center\",\"headerStyle\":{\"fontWeight\":100},\"minWidth\":200,\"style\":[{\"fontWeight\":600,\"background\":\"pink\"},{\"fontWeight\":600,\"background\":null}]}],\"sortable\":false,\"defaultPageSize\":10,\"paginationType\":\"numbers\",\"showPageInfo\":true,\"minRows\":1,\"inline\":true,\"theme\":{\"backgroundColor\":\"#fdf6e3\"},\"dataKey\":\"9899aad0c3275e615a5f64b37cbf4d85\"},\"children\":[]},\"class\":\"reactR_markup\"},\"evals\":[],\"jsHooks\":[]}</script>\n```\n:::\n:::\n\n\n## [True Negatives]{style=\"color: green;\"} {.smaller}\n\n### Not-Infected and Predicted as Not-Infected - [BAD]{style=\"color: green;\"}\n\n<br> [ğŸ¤¨]{style=\"font-size: 50px;\"}\n\n\n::: {.cell}\n::: {.cell-output-display}\n```{=html}\n<div id=\"htmlwidget-836d32e07fc5e5281f4c\" class=\"reactable html-widget\" style=\"width:auto;height:auto;\"></div>\n<script type=\"application/json\" data-for=\"htmlwidget-836d32e07fc5e5281f4c\">{\"x\":{\"tag\":{\"name\":\"Reactable\",\"attribs\":{\"data\":{\"type\":[\"Real Positive\",\"Real Negative\"],\"predicted_positive\":[\"TP\",\"FP\"],\"predicted_negative\":[\"FN\",\"TN\"]},\"columns\":[{\"accessor\":\"type\",\"name\":\"\",\"type\":\"character\",\"align\":\"left\",\"headerStyle\":{\"fontWeight\":100},\"minWidth\":200,\"style\":{\"fontWeight\":100}},{\"accessor\":\"predicted_positive\",\"name\":\"Predicted Positive\",\"type\":\"character\",\"align\":\"center\",\"headerStyle\":{\"fontWeight\":100},\"minWidth\":200,\"style\":[{\"fontWeight\":600},{\"fontWeight\":600}]},{\"accessor\":\"predicted_negative\",\"name\":\"Predicted Negative\",\"type\":\"character\",\"align\":\"center\",\"headerStyle\":{\"fontWeight\":100},\"minWidth\":200,\"style\":[{\"fontWeight\":600,\"background\":null},{\"fontWeight\":600,\"background\":\"lightgreen\"}]}],\"sortable\":false,\"defaultPageSize\":10,\"paginationType\":\"numbers\",\"showPageInfo\":true,\"minRows\":1,\"inline\":true,\"theme\":{\"backgroundColor\":\"#fdf6e3\"},\"dataKey\":\"fc6b82a5989b085e90f9be912e39ffb3\"},\"children\":[]},\"class\":\"reactR_markup\"},\"evals\":[],\"jsHooks\":[]}</script>\n```\n:::\n:::\n\n\n------------------------------------------------------------------------\n\n## Probability Threshold:\n\n-   Most Performance Metrics are estimated by using a Probability Threshold in order to classify each probability to Predicted Negative (Do not Treat) or Predicted Positive (Treat ğŸ’Š).\\\n\n-   This type of dichotomization is being used when the intervention carries a **potential risk** and there is a trade-off of risks between the intervention and the outcome.\n\n## Probability Threshold:\n\n<table>\n<tbody>\n<tr class=\"odd\">\n<td style=\"text-align: center;\"><p><strong>pÌ‚</strong></p></td>\n<td style=\"text-align: center;\"><p>0.3</p></td>\n<td style=\"text-align: center;\"><p>0.6</p></td>\n<td style=\"text-align: center;\"><p>0.4</p></td>\n<td style=\"text-align: center;\"><p>0.1</p></td>\n<td style=\"text-align: center;\"><p>0.4</p></td>\n<td style=\"text-align: center;\"><p>0.7</p></td>\n<td style=\"text-align: center;\"><p>0.3</p></td>\n<td style=\"text-align: center;\"><p>0.1</p></td>\n<td style=\"text-align: center;\"><p>0.2</p></td>\n<td style=\"text-align: center;\"><p>0.1</p></td>\n</tr>\n<tr class=\"even\">\n<td style=\"text-align: center;\"><p><strong>Y</strong></p></td>\n<td style=\"text-align: center;\"><p>0</p></td>\n<td style=\"text-align: center;\"><p>1</p></td>\n<td style=\"text-align: center;\"><p>1</p></td>\n<td style=\"text-align: center;\"><p>0</p></td>\n<td style=\"text-align: center;\"><p>1</p></td>\n<td style=\"text-align: center;\"><p>1</p></td>\n<td style=\"text-align: center;\"><p>0</p></td>\n<td style=\"text-align: center;\"><p>0</p></td>\n<td style=\"text-align: center;\"><p>1</p></td>\n<td style=\"text-align: center;\"><p>0</p></td>\n</tr>\n<tr class=\"odd\">\n<td style=\"text-align: center;\"></td>\n<td style=\"text-align: center;\"><p><br />\n<span class=\"emoji\" data-emoji=\"raised_eyebrow\">ğŸ¤¨</span></p></td>\n<td style=\"text-align: center;\"><p><br />\n<span class=\"emoji\" data-emoji=\"nauseated_face\">ğŸ¤¢</span></p></td>\n<td style=\"text-align: center;\"><p><br />\n<span class=\"emoji\" data-emoji=\"nauseated_face\">ğŸ¤¢</span></p></td>\n<td style=\"text-align: center;\"><p><br />\n<span class=\"emoji\" data-emoji=\"raised_eyebrow\">ğŸ¤¨</span></p></td>\n<td style=\"text-align: center;\"><p><br />\n<span class=\"emoji\" data-emoji=\"nauseated_face\">ğŸ¤¢</span></p></td>\n<td style=\"text-align: center;\"><p><br />\n<span class=\"emoji\" data-emoji=\"nauseated_face\">ğŸ¤¢</span></p></td>\n<td style=\"text-align: center;\"><p><br />\n<span class=\"emoji\" data-emoji=\"raised_eyebrow\">ğŸ¤¨</span></p></td>\n<td style=\"text-align: center;\"><p><br />\n<span class=\"emoji\" data-emoji=\"raised_eyebrow\">ğŸ¤¨</span></p></td>\n<td style=\"text-align: center;\"><p><br />\n<span class=\"emoji\" data-emoji=\"nauseated_face\">ğŸ¤¢</span></p></td>\n<td style=\"text-align: center;\"><p><br />\n<span class=\"emoji\" data-emoji=\"raised_eyebrow\">ğŸ¤¨</span></p></td>\n</tr>\n</tbody>\n</table>\n\n## Low Probability Threshold:\n\nLow Probability Threshold means that I'm worried about the **outcome**:\n\n-   I'm worried about **Prostate Cancer** ğŸ¦€\n-   I'm worried about **Heart Disease** ğŸ’”\n-   I'm worried about **Infection** ğŸ¤¢\n\n## Probability Threshold of 0.25\n\n<table>\n<thead>\n<tr class=\"header\">\n<th style=\"text-align: center;\"><p><strong>pÌ‚</strong></p></th>\n<th style=\"text-align: center;\"><p>0.3</p></th>\n<th style=\"text-align: center;\"><p>0.6</p></th>\n<th style=\"text-align: center;\"><p>0.4</p></th>\n<th style=\"text-align: center;\"><p>0.1</p></th>\n<th style=\"text-align: center;\"><p>0.4</p></th>\n<th style=\"text-align: center;\"><p>0.7</p></th>\n<th style=\"text-align: center;\"><p>0.3</p></th>\n<th style=\"text-align: center;\"><p>0.1</p></th>\n<th style=\"text-align: center;\"><p>0.2</p></th>\n<th style=\"text-align: center;\"><p>0.1</p></th>\n</tr>\n</thead>\n<tbody>\n<tr class=\"odd\">\n<td style=\"text-align: center;\"><p><strong>Å¶</strong></p></td>\n<td style=\"text-align: center;\"><p>1</p></td>\n<td style=\"text-align: center;\"><p>1</p></td>\n<td style=\"text-align: center;\"><p>1</p></td>\n<td style=\"text-align: center;\"><p>0</p></td>\n<td style=\"text-align: center;\"><p>1</p></td>\n<td style=\"text-align: center;\"><p>1</p></td>\n<td style=\"text-align: center;\"><p>1</p></td>\n<td style=\"text-align: center;\"><p>0</p></td>\n<td style=\"text-align: center;\"><p>0</p></td>\n<td style=\"text-align: center;\"><p>0</p></td>\n</tr>\n<tr class=\"even\">\n<td style=\"text-align: center;\"><p><strong>Y</strong></p></td>\n<td style=\"text-align: center;\"><p>0</p></td>\n<td style=\"text-align: center;\"><p>1</p></td>\n<td style=\"text-align: center;\"><p>1</p></td>\n<td style=\"text-align: center;\"><p>0</p></td>\n<td style=\"text-align: center;\"><p>1</p></td>\n<td style=\"text-align: center;\"><p>1</p></td>\n<td style=\"text-align: center;\"><p>0</p></td>\n<td style=\"text-align: center;\"><p>0</p></td>\n<td style=\"text-align: center;\"><p>1</p></td>\n<td style=\"text-align: center;\"><p>0</p></td>\n</tr>\n<tr class=\"odd\">\n<td style=\"text-align: center;\"></td>\n<td style=\"text-align: center;\"><p><span class=\"emoji\" data-emoji=\"pill\">ğŸ’Š</span><br />\n<span class=\"emoji\" data-emoji=\"raised_eyebrow\">ğŸ¤¨</span></p></td>\n<td style=\"text-align: center;\"><p><span class=\"emoji\" data-emoji=\"pill\">ğŸ’Š</span><br />\n<span class=\"emoji\" data-emoji=\"nauseated_face\">ğŸ¤¢</span></p></td>\n<td style=\"text-align: center;\"><p><span class=\"emoji\" data-emoji=\"pill\">ğŸ’Š</span><br />\n<span class=\"emoji\" data-emoji=\"nauseated_face\">ğŸ¤¢</span></p></td>\n<td style=\"text-align: center;\"><p><br />\n<span class=\"emoji\" data-emoji=\"raised_eyebrow\">ğŸ¤¨</span></p></td>\n<td style=\"text-align: center;\"><p><span class=\"emoji\" data-emoji=\"pill\">ğŸ’Š</span><br />\n<span class=\"emoji\" data-emoji=\"nauseated_face\">ğŸ¤¢</span></p></td>\n<td style=\"text-align: center;\"><p><span class=\"emoji\" data-emoji=\"pill\">ğŸ’Š</span><br />\n<span class=\"emoji\" data-emoji=\"nauseated_face\">ğŸ¤¢</span></p></td>\n<td style=\"text-align: center;\"><p><span class=\"emoji\" data-emoji=\"pill\">ğŸ’Š</span><br />\n<span class=\"emoji\" data-emoji=\"raised_eyebrow\">ğŸ¤¨</span></p></td>\n<td style=\"text-align: center;\"><p><br />\n<span class=\"emoji\" data-emoji=\"raised_eyebrow\">ğŸ¤¨</span></p></td>\n<td style=\"text-align: center;\"><p><br />\n<span class=\"emoji\" data-emoji=\"nauseated_face\">ğŸ¤¢</span></p></td>\n<td style=\"text-align: center;\"><p><br />\n<span class=\"emoji\" data-emoji=\"raised_eyebrow\">ğŸ¤¨</span></p></td>\n</tr>\n<tr class=\"even\">\n<td style=\"text-align: center;\"></td>\n<td style=\"text-align: center;\"><p><strong>FP</strong></p></td>\n<td style=\"text-align: center;\"><p><strong>TP</strong></p></td>\n<td style=\"text-align: center;\"><p><strong>TP</strong></p></td>\n<td style=\"text-align: center;\"><p><strong>TN</strong></p></td>\n<td style=\"text-align: center;\"><p><strong>TP</strong></p></td>\n<td style=\"text-align: center;\"><p><strong>TP</strong></p></td>\n<td style=\"text-align: center;\"><p><strong>FP</strong></p></td>\n<td style=\"text-align: center;\"><p><strong>TN</strong></p></td>\n<td style=\"text-align: center;\"><p><strong>FN</strong></p></td>\n<td style=\"text-align: center;\"><p><strong>FP</strong></p></td>\n</tr>\n</tbody>\n</table>\n\n## High Probability Threshold:\n\nHigh Probability Threshold means that I'm worried about the **Intervention**:\n\n-   I'm worried about **Biopsy** ğŸ’‰\n\n-   I'm worried about **Statins** ğŸ’Š\n\n-   I'm worried about **Antibiotics** ğŸ’Š\n\n## Probability Threshold of 0.55\n\n<table>\n<thead>\n<tr class=\"header\">\n<th style=\"text-align: center;\"><p><strong>pÌ‚</strong></p></th>\n<th style=\"text-align: center;\"><p>0.3</p></th>\n<th style=\"text-align: center;\"><p>0.6</p></th>\n<th style=\"text-align: center;\"><p>0.4</p></th>\n<th style=\"text-align: center;\"><p>0.1</p></th>\n<th style=\"text-align: center;\"><p>0.4</p></th>\n<th style=\"text-align: center;\"><p>0.7</p></th>\n<th style=\"text-align: center;\"><p>0.3</p></th>\n<th style=\"text-align: center;\"><p>0.1</p></th>\n<th style=\"text-align: center;\"><p>0.2</p></th>\n<th style=\"text-align: center;\"><p>0.1</p></th>\n</tr>\n</thead>\n<tbody>\n<tr class=\"odd\">\n<td style=\"text-align: center;\"><p><strong>Å¶</strong></p></td>\n<td style=\"text-align: center;\"><p>0</p></td>\n<td style=\"text-align: center;\"><p>1</p></td>\n<td style=\"text-align: center;\"><p>0</p></td>\n<td style=\"text-align: center;\"><p>0</p></td>\n<td style=\"text-align: center;\"><p>0</p></td>\n<td style=\"text-align: center;\"><p>1</p></td>\n<td style=\"text-align: center;\"><p>0</p></td>\n<td style=\"text-align: center;\"><p>0</p></td>\n<td style=\"text-align: center;\"><p>0</p></td>\n<td style=\"text-align: center;\"><p>0</p></td>\n</tr>\n<tr class=\"even\">\n<td style=\"text-align: center;\"><p><strong>Y</strong></p></td>\n<td style=\"text-align: center;\"><p>0</p></td>\n<td style=\"text-align: center;\"><p>1</p></td>\n<td style=\"text-align: center;\"><p>1</p></td>\n<td style=\"text-align: center;\"><p>0</p></td>\n<td style=\"text-align: center;\"><p>1</p></td>\n<td style=\"text-align: center;\"><p>1</p></td>\n<td style=\"text-align: center;\"><p>0</p></td>\n<td style=\"text-align: center;\"><p>0</p></td>\n<td style=\"text-align: center;\"><p>1</p></td>\n<td style=\"text-align: center;\"><p>0</p></td>\n</tr>\n<tr class=\"odd\">\n<td style=\"text-align: center;\"></td>\n<td style=\"text-align: center;\"><p><br />\n<span class=\"emoji\" data-emoji=\"raised_eyebrow\">ğŸ¤¨</span></p></td>\n<td style=\"text-align: center;\"><p><span class=\"emoji\" data-emoji=\"pill\">ğŸ’Š</span><br />\n<span class=\"emoji\" data-emoji=\"nauseated_face\">ğŸ¤¢</span></p></td>\n<td style=\"text-align: center;\"><p><br />\n<span class=\"emoji\" data-emoji=\"nauseated_face\">ğŸ¤¢</span></p></td>\n<td style=\"text-align: center;\"><p><br />\n<span class=\"emoji\" data-emoji=\"raised_eyebrow\">ğŸ¤¨</span></p></td>\n<td style=\"text-align: center;\"><p><br />\n<span class=\"emoji\" data-emoji=\"nauseated_face\">ğŸ¤¢</span></p></td>\n<td style=\"text-align: center;\"><p><span class=\"emoji\" data-emoji=\"pill\">ğŸ’Š</span><br />\n<span class=\"emoji\" data-emoji=\"nauseated_face\">ğŸ¤¢</span></p></td>\n<td style=\"text-align: center;\"><p><br />\n<span class=\"emoji\" data-emoji=\"raised_eyebrow\">ğŸ¤¨</span></p></td>\n<td style=\"text-align: center;\"><p><br />\n<span class=\"emoji\" data-emoji=\"raised_eyebrow\">ğŸ¤¨</span></p></td>\n<td style=\"text-align: center;\"><p><br />\n<span class=\"emoji\" data-emoji=\"nauseated_face\">ğŸ¤¢</span></p></td>\n<td style=\"text-align: center;\"><p><br />\n<span class=\"emoji\" data-emoji=\"raised_eyebrow\">ğŸ¤¨</span></p></td>\n</tr>\n<tr class=\"even\">\n<td style=\"text-align: center;\"></td>\n<td style=\"text-align: center;\"><p><strong>TN</strong></p></td>\n<td style=\"text-align: center;\"><p><strong>TP</strong></p></td>\n<td style=\"text-align: center;\"><p><strong>FN</strong></p></td>\n<td style=\"text-align: center;\"><p><strong>TN</strong></p></td>\n<td style=\"text-align: center;\"><p><strong>FN</strong></p></td>\n<td style=\"text-align: center;\"><p><strong>TP</strong></p></td>\n<td style=\"text-align: center;\"><p><strong>TN</strong></p></td>\n<td style=\"text-align: center;\"><p><strong>TN</strong></p></td>\n<td style=\"text-align: center;\"><p><strong>FN</strong></p></td>\n<td style=\"text-align: center;\"><p><strong>FP</strong></p></td>\n</tr>\n</tbody>\n</table>\n\n## PPCR (Predicted Positives Conditional Rate):\n\n$\\begin{aligned} \\ {\\scriptsize \\frac{\\text{TP + FP}}{\\text{TP + FP + TN + FN}}}\\end{aligned} = \\begin{aligned} \\ {\\scriptsize \\frac{\\text{Predicted Positives}}{\\text{Total Population}}}\\end{aligned}$\n\n-   Sometimes we will classify each observation according to the ranking of the risk in order to prioritize high-risk patients regardless their absolute risk.\n\n-   The implied assumption is that the highest risk might gain the highest benefit from the treatment and that the treatment does not carry a significant potential risk.\n\n-   This type of dichotomization is being used when the organization face **Resource Constraint**. In healthcare we call it also **Risk Percentile**.\n\n## PPCR of 0.1\n\n<table>\n<tbody>\n<tr class=\"odd\">\n<td style=\"text-align: center;\"><p><strong>pÌ‚</strong></p></td>\n<td style=\"text-align: center;\"><p>0.3</p></td>\n<td style=\"text-align: center;\"><p>0.6</p></td>\n<td style=\"text-align: center;\"><p>0.4</p></td>\n<td style=\"text-align: center;\"><p>0.1</p></td>\n<td style=\"text-align: center;\"><p>0.4</p></td>\n<td style=\"text-align: center;\"><p>0.7</p></td>\n<td style=\"text-align: center;\"><p>0.3</p></td>\n<td style=\"text-align: center;\"><p>0.1</p></td>\n<td style=\"text-align: center;\"><p>0.2</p></td>\n<td style=\"text-align: center;\"><p>0.1</p></td>\n</tr>\n<tr class=\"even\">\n<td style=\"text-align: center;\"><p><strong>R</strong></p></td>\n<td style=\"text-align: center;\"></td>\n<td style=\"text-align: center;\"></td>\n<td style=\"text-align: center;\"></td>\n<td style=\"text-align: center;\"></td>\n<td style=\"text-align: center;\"></td>\n<td style=\"text-align: center;\"></td>\n<td style=\"text-align: center;\"></td>\n<td style=\"text-align: center;\"></td>\n<td style=\"text-align: center;\"></td>\n<td style=\"text-align: center;\"></td>\n</tr>\n<tr class=\"odd\">\n<td style=\"text-align: center;\"><p><strong>Å¶</strong></p></td>\n<td style=\"text-align: center;\"></td>\n<td style=\"text-align: center;\"></td>\n<td style=\"text-align: center;\"></td>\n<td style=\"text-align: center;\"></td>\n<td style=\"text-align: center;\"></td>\n<td style=\"text-align: center;\"></td>\n<td style=\"text-align: center;\"></td>\n<td style=\"text-align: center;\"></td>\n<td style=\"text-align: center;\"></td>\n<td style=\"text-align: center;\"></td>\n</tr>\n<tr class=\"even\">\n<td style=\"text-align: center;\"><p><strong>Y</strong></p></td>\n<td style=\"text-align: center;\"><p>0</p></td>\n<td style=\"text-align: center;\"><p>1</p></td>\n<td style=\"text-align: center;\"><p>1</p></td>\n<td style=\"text-align: center;\"><p>0</p></td>\n<td style=\"text-align: center;\"><p>1</p></td>\n<td style=\"text-align: center;\"><p>1</p></td>\n<td style=\"text-align: center;\"><p>0</p></td>\n<td style=\"text-align: center;\"><p>0</p></td>\n<td style=\"text-align: center;\"><p>1</p></td>\n<td style=\"text-align: center;\"><p>0</p></td>\n</tr>\n<tr class=\"odd\">\n<td style=\"text-align: center;\"></td>\n<td style=\"text-align: center;\"><p><br />\n<span class=\"emoji\" data-emoji=\"raised_eyebrow\">ğŸ¤¨</span></p></td>\n<td style=\"text-align: center;\"><p><br />\n<span class=\"emoji\" data-emoji=\"nauseated_face\">ğŸ¤¢</span></p></td>\n<td style=\"text-align: center;\"><p><br />\n<span class=\"emoji\" data-emoji=\"nauseated_face\">ğŸ¤¢</span></p></td>\n<td style=\"text-align: center;\"><p><br />\n<span class=\"emoji\" data-emoji=\"raised_eyebrow\">ğŸ¤¨</span></p></td>\n<td style=\"text-align: center;\"><p><br />\n<span class=\"emoji\" data-emoji=\"nauseated_face\">ğŸ¤¢</span></p></td>\n<td style=\"text-align: center;\"><p><br />\n<span class=\"emoji\" data-emoji=\"nauseated_face\">ğŸ¤¢</span></p></td>\n<td style=\"text-align: center;\"><p><br />\n<span class=\"emoji\" data-emoji=\"raised_eyebrow\">ğŸ¤¨</span></p></td>\n<td style=\"text-align: center;\"><p><br />\n<span class=\"emoji\" data-emoji=\"raised_eyebrow\">ğŸ¤¨</span></p></td>\n<td style=\"text-align: center;\"><p><br />\n<span class=\"emoji\" data-emoji=\"nauseated_face\">ğŸ¤¢</span></p></td>\n<td style=\"text-align: center;\"><p><br />\n<span class=\"emoji\" data-emoji=\"raised_eyebrow\">ğŸ¤¨</span></p></td>\n</tr>\n<tr class=\"even\">\n<td style=\"text-align: center;\"></td>\n<td style=\"text-align: center;\"></td>\n<td style=\"text-align: center;\"></td>\n<td style=\"text-align: center;\"></td>\n<td style=\"text-align: center;\"></td>\n<td style=\"text-align: center;\"></td>\n<td style=\"text-align: center;\"></td>\n<td style=\"text-align: center;\"></td>\n<td style=\"text-align: center;\"></td>\n<td style=\"text-align: center;\"></td>\n<td style=\"text-align: center;\"></td>\n</tr>\n</tbody>\n</table>\n\n## PPCR of 0.1\n\n<table>\n<tbody>\n<tr class=\"odd\">\n<td style=\"text-align: center;\"><p><strong>pÌ‚</strong></p></td>\n<td style=\"text-align: center;\"><p>0.3</p></td>\n<td style=\"text-align: center;\"><p>0.6</p></td>\n<td style=\"text-align: center;\"><p>0.4</p></td>\n<td style=\"text-align: center;\"><p>0.1</p></td>\n<td style=\"text-align: center;\"><p>0.4</p></td>\n<td style=\"text-align: center;\"><p>0.7</p></td>\n<td style=\"text-align: center;\"><p>0.3</p></td>\n<td style=\"text-align: center;\"><p>0.1</p></td>\n<td style=\"text-align: center;\"><p>0.2</p></td>\n<td style=\"text-align: center;\"><p>0.1</p></td>\n</tr>\n<tr class=\"even\">\n<td style=\"text-align: center;\"><p><strong>R</strong></p></td>\n<td style=\"text-align: center;\"><p>5.5</p></td>\n<td style=\"text-align: center;\"><p>2</p></td>\n<td style=\"text-align: center;\"><p>3.5</p></td>\n<td style=\"text-align: center;\"><p>9</p></td>\n<td style=\"text-align: center;\"><p>3.5</p></td>\n<td style=\"text-align: center;\"><p>1</p></td>\n<td style=\"text-align: center;\"><p>5.5</p></td>\n<td style=\"text-align: center;\"><p>9</p></td>\n<td style=\"text-align: center;\"><p>7</p></td>\n<td style=\"text-align: center;\"><p>9</p></td>\n</tr>\n<tr class=\"odd\">\n<td style=\"text-align: center;\"><p><strong>Å¶</strong></p></td>\n<td style=\"text-align: center;\"><p>0</p></td>\n<td style=\"text-align: center;\"><p>0</p></td>\n<td style=\"text-align: center;\"><p>0</p></td>\n<td style=\"text-align: center;\"><p>0</p></td>\n<td style=\"text-align: center;\"><p>0</p></td>\n<td style=\"text-align: center;\"><p>1</p></td>\n<td style=\"text-align: center;\"><p>0</p></td>\n<td style=\"text-align: center;\"><p>0</p></td>\n<td style=\"text-align: center;\"><p>0</p></td>\n<td style=\"text-align: center;\"><p>0</p></td>\n</tr>\n<tr class=\"even\">\n<td style=\"text-align: center;\"><p><strong>Y</strong></p></td>\n<td style=\"text-align: center;\"><p>0</p></td>\n<td style=\"text-align: center;\"><p>1</p></td>\n<td style=\"text-align: center;\"><p>1</p></td>\n<td style=\"text-align: center;\"><p>0</p></td>\n<td style=\"text-align: center;\"><p>1</p></td>\n<td style=\"text-align: center;\"><p>1</p></td>\n<td style=\"text-align: center;\"><p>0</p></td>\n<td style=\"text-align: center;\"><p>0</p></td>\n<td style=\"text-align: center;\"><p>1</p></td>\n<td style=\"text-align: center;\"><p>0</p></td>\n</tr>\n<tr class=\"odd\">\n<td style=\"text-align: center;\"></td>\n<td style=\"text-align: center;\"><p><br />\n<span class=\"emoji\" data-emoji=\"raised_eyebrow\">ğŸ¤¨</span></p></td>\n<td style=\"text-align: center;\"><p><br />\n<span class=\"emoji\" data-emoji=\"nauseated_face\">ğŸ¤¢</span></p></td>\n<td style=\"text-align: center;\"><p><br />\n<span class=\"emoji\" data-emoji=\"nauseated_face\">ğŸ¤¢</span></p></td>\n<td style=\"text-align: center;\"><p><br />\n<span class=\"emoji\" data-emoji=\"raised_eyebrow\">ğŸ¤¨</span></p></td>\n<td style=\"text-align: center;\"><p><br />\n<span class=\"emoji\" data-emoji=\"nauseated_face\">ğŸ¤¢</span></p></td>\n<td style=\"text-align: center;\"><p><span class=\"emoji\" data-emoji=\"pill\">ğŸ’Š</span> <br />\n<span class=\"emoji\" data-emoji=\"nauseated_face\">ğŸ¤¢</span></p></td>\n<td style=\"text-align: center;\"><p><br />\n<span class=\"emoji\" data-emoji=\"raised_eyebrow\">ğŸ¤¨</span></p></td>\n<td style=\"text-align: center;\"><p><br />\n<span class=\"emoji\" data-emoji=\"raised_eyebrow\">ğŸ¤¨</span></p></td>\n<td style=\"text-align: center;\"><p><br />\n<span class=\"emoji\" data-emoji=\"nauseated_face\">ğŸ¤¢</span></p></td>\n<td style=\"text-align: center;\"><p><br />\n<span class=\"emoji\" data-emoji=\"raised_eyebrow\">ğŸ¤¨</span></p></td>\n</tr>\n<tr class=\"even\">\n<td style=\"text-align: center;\"></td>\n<td style=\"text-align: center;\"><p><strong>FN</strong></p></td>\n<td style=\"text-align: center;\"><p><strong>FP</strong></p></td>\n<td style=\"text-align: center;\"><p><strong>FP</strong></p></td>\n<td style=\"text-align: center;\"><p><strong>FN</strong></p></td>\n<td style=\"text-align: center;\"><p><strong>FP</strong></p></td>\n<td style=\"text-align: center;\"><p><strong>TP</strong></p></td>\n<td style=\"text-align: center;\"><p><strong>FN</strong></p></td>\n<td style=\"text-align: center;\"><p><strong>FN</strong></p></td>\n<td style=\"text-align: center;\"><p><strong>FP</strong></p></td>\n<td style=\"text-align: center;\"><p><strong>FN</strong></p></td>\n</tr>\n</tbody>\n</table>\n\n## Discrimination - Performance Curves\n\n| Curve             | Sens | Spec | PPV | PPCR | Lift |\n|:------------------|:----:|:----:|:---:|:----:|:----:|\n| ROC               |  y   |  x   |     |      |      |\n| Lift              |      |      |     |  x   |  y   |\n| Precision- Recall |  x   |      |  y  |      |      |\n| Gains             |  y   |      |     |  x   |      |\n\n## ROC Curve\n\n| Curve             | Sens  | Spec  | PPV | PPCR | Lift |\n|:------------------|:-----:|:-----:|:---:|:----:|:----:|\n| **ROC**           | **y** | **x** |     |      |      |\n| Lift              |       |       |     |  x   |  y   |\n| Precision- Recall |   x   |       |  y  |      |      |\n| Gains             |   y   |       |     |  x   |      |\n\n## ROC Curve\n\n-   The most famous form of Performance Metrics Visualization\n\n-   Displays Sensitivity (also known as True Positive Rate or Percision) on the y axis\n\n-   Displays 1 - Specificity (also known as False Positive Rate) on the x axis.\n\n## Why I don't like ROC Curve ğŸ˜¤\n\n### Why 1 - Specificity? Why not just Specificity? ğŸ™ƒ\n\nHonestly, I didn't find anywhere why *1 - Specificity* is more insightful than just *Specificity.*\n\n\n::: {.cell}\n::: {.cell-output .cell-output-stdout}\n```\n[1] \"col values\"\n```\n:::\n\n::: {.cell-output .cell-output-stdout}\n```\n[1] \"col values\"\n```\n:::\n\n::: {.cell-output-display}\n![](performance_evaluation_of_prediction_models_files/figure-revealjs/unnamed-chunk-5-1.png){width=960}\n:::\n:::\n\n\n## Why I don't like ROC Curve ğŸ˜¤\n\n### Why 1 - Specificity? Why not just Specificity? ğŸ™ƒ\n\nHonestly, I didn't find anywhere why *1 - Specificity* is more insightful than just *Specificity.*\n\n\n::: {.cell}\n::: {.cell-output-display}\n![](performance_evaluation_of_prediction_models_files/figure-revealjs/unnamed-chunk-6-1.png){width=960}\n:::\n:::\n\n\n## Why I don't like ROC Curve ğŸ˜¤\n\n### Sensitivity and Specificity do not respect the flow of time ğŸ•°ï¸\n\n![](real_positives_future.jpg)\n\n## Why I don't like ROC Curve ğŸ˜¤\n\n### Sensitivity and Specificity do not respect the flow of time ğŸ•°ï¸ {.smaller}\n\n<br>\n\nSensitivity: $\\begin{aligned} \\ {\\scriptsize \\frac{\\text{TP}}{\\text{TP + FN}} = \\text{Prob( Predicted Positive | Real Positive )}}\\end{aligned}$\n\n<br>\n\nSpecificity: $\\begin{aligned} \\ {\\scriptsize \\frac{\\text{TN}}{\\text{TN + FP}} = \\text{Prob( Predicted Negative | Real Negative )} } \\end{aligned}$\n\n<br>\n\nWe do not know the condition of the Conditional Probability: Not the number of future Real Positives nor the number of future Real Negatives.\n\n## Why I don't like ROC Curve ğŸ˜¤\n\n### Sensitivity and Specificity do not respect the flow of time ğŸ•°ï¸ {.smaller}\n\n<br>\n\nPPV: $\\begin{aligned} \\ {\\scriptsize \\frac{\\text{TP}}{\\text{TP + FP}} = \\text{Prob( Real Positive | Predicted Positive )}}\\end{aligned}$\n\n<br>\n\nNPV: $\\begin{aligned} \\ {\\scriptsize \\frac{\\text{TN}}{\\text{TN + FN}} = \\text{Prob( Real Negative | Predicted Negative )} } \\end{aligned}$\n\nWe know the condition of the Conditional Probability: The number of Predicted Positives and the number of Predicted Negatives.\n\n## Why I don't like ROC Curve ğŸ˜¤\n\n### You don't care about AUROC, you care about the c-statistics\n\n-   Generally speaking more area under a curve with two \"Good\" performance metrics means better model. Other than that, there is no context and performance metrics with no context might lead to ambiguity and bad decisions.\n\n-   Another Curve: Precision-Recall is made of Sensitivity (Precision) and PPV (Recall). How much PRAUC is enough?\n\n## Why I don't like ROC Curve ğŸ˜¤\n\n### You don't care about AUROC, you care about the c-statistics\n\n-   Why not calculating GAINSAUC? Or any combination of two good performance metrics? We can get with Sensitivity, Specificity, NPV, PPV 6 AUC metrics. Do they provide any meaningful insight besides a vague *the more the better*?\n\n## What is the AUROC of the following Models?\n\n\n::: {.cell}\n::: {.cell-output-display}\n![](performance_evaluation_of_prediction_models_files/figure-revealjs/unnamed-chunk-7-1.png){width=960}\n:::\n:::\n\n\n## What is the AUROC of the following Models?\n\n![](khaby.gif)\n\n\n::: {.cell}\n::: {.cell-output-display}\n```{=html}\n<div id=\"htmlwidget-f471556540b05d9c5f19\" class=\"reactable html-widget\" style=\"width:auto;height:auto;\"></div>\n<script type=\"application/json\" data-for=\"htmlwidget-f471556540b05d9c5f19\">{\"x\":{\"tag\":{\"name\":\"Reactable\",\"attribs\":{\"data\":{\"population\":[\"First Model\",\"Second Model\"],\"auc\":[0.9586,0.8648]},\"columns\":[{\"accessor\":\"population\",\"name\":\"Model\",\"type\":\"factor\",\"show\":true,\"cell\":[{\"name\":\"Fragment\",\"attribs\":[],\"children\":[{\"name\":\"span\",\"attribs\":{\"style\":{\"display\":\"inline-block\",\"marginRight\":\"8px\",\"width\":\"9px\",\"height\":\"9px\",\"backgroundColor\":\"#1b9e77\",\"borderRadius\":\"50%\"}},\"children\":[]},\"First Model\"]},{\"name\":\"Fragment\",\"attribs\":[],\"children\":[{\"name\":\"span\",\"attribs\":{\"style\":{\"display\":\"inline-block\",\"marginRight\":\"8px\",\"width\":\"9px\",\"height\":\"9px\",\"backgroundColor\":\"#d95f02\",\"borderRadius\":\"50%\"}},\"children\":[]},\"Second Model\"]}],\"minWidth\":300},{\"accessor\":\"auc\",\"name\":\"AUROC\",\"type\":\"numeric\",\"cell\":[{\"name\":\"div\",\"attribs\":{\"style\":{\"display\":\"flex\",\"alignItems\":\"center\"}},\"children\":[\"0.96\",{\"name\":\"div\",\"attribs\":{\"style\":{\"flexGrow\":1,\"marginLeft\":\"8px\",\"background\":\"#e1e1e1\"}},\"children\":[{\"name\":\"div\",\"attribs\":{\"style\":{\"background\":\"green\",\"width\":\"95.86%\",\"height\":\"16px\"}},\"children\":[]}]}]},{\"name\":\"div\",\"attribs\":{\"style\":{\"display\":\"flex\",\"alignItems\":\"center\"}},\"children\":[\"0.86\",{\"name\":\"div\",\"attribs\":{\"style\":{\"flexGrow\":1,\"marginLeft\":\"8px\",\"background\":\"#e1e1e1\"}},\"children\":[{\"name\":\"div\",\"attribs\":{\"style\":{\"background\":\"green\",\"width\":\"86.48%\",\"height\":\"16px\"}},\"children\":[]}]}]}],\"minWidth\":300,\"align\":\"left\"}],\"sortable\":false,\"defaultPageSize\":10,\"paginationType\":\"numbers\",\"showPageInfo\":true,\"minRows\":1,\"inline\":true,\"theme\":{\"backgroundColor\":\"#fdf6e3\"},\"dataKey\":\"3f38f391c186fb012470a2d5b009ebb9\"},\"children\":[]},\"class\":\"reactR_markup\"},\"evals\":[],\"jsHooks\":[]}</script>\n```\n:::\n:::\n\n\n## Why I don't like ROC Curve ğŸ˜¤\n\n### You don't care about AUROC, you care about the c-statistics\n\n-   High Ink-to-information ratio ğŸ˜µ\n\n-   One might suggest that the visual aspect is useful, but as human beings we are really bad at interpreting round things (That's why pie-charts are considered to be bad practice).\n\n<!-- -->\n\n-   Yet, the AUROC is valuable because of the equivalence to the c-statistics and it might provide good intuition about the performance of the model.\n\n## Why I don't like ROC Curve ğŸ˜¤\n\n### You don't care about AUROC, you care about the c-statistics\n\n-   If you'll take randomly one event and one non-event, the probability that the event will be estimated with higher probability is exactly the AUROC.\n\n-   AUROC = p( pÌ‚(ğŸ¤¨) \\< pÌ‚(ğŸ¤¢) )\n\n## Why I don't like ROC Curve ğŸ˜¤\n\n### You don't care about AUROC, you care about the c-statistics\n\n\n::: {.cell}\n\n```{.r .cell-code}\nprobs <- c(0.3, 0.6, 0.4, 0.1, 0.4, 0.7, 0.3, 0.1, 0.2, 0.1)\nreals <- c(0, 1, 1, 0, 1, 1, 0, 0, 1, 0)\n\npROC::auc(reals, probs)\n```\n\n::: {.cell-output .cell-output-stdout}\n```\nArea under the curve: 0.92\n```\n:::\n\n```{.r .cell-code}\nprobs_events <- probs[reals == 1]\nprobs_nonevents <- probs[reals == 0]\n\nprop.table(\n  table(\n    sample(probs_events, replace = TRUE, size = 10000) >\n    sample(probs_nonevents, replace = TRUE, size = 10000)\n  )\n)\n```\n\n::: {.cell-output .cell-output-stdout}\n```\n\n FALSE   TRUE \n0.0796 0.9204 \n```\n:::\n:::\n\n\n## Why I don't like ROC Curve ğŸ˜¤\n\n### You don't care about AUROC, you care about the c-statistics\n\n\n::: {.cell}\n\n```{.python .cell-code}\nimport numpy as np\nimport random\n\nprobs = np.array([0.3, 0.6, 0.4, 0.1, 0.4, 0.7, 0.3, 0.1, 0.2, 0.1])\nreals = np.array([0, 1, 1, 0, 1, 1, 0, 0, 1, 0])\n\nprobs_events = probs[reals == 1]\nprobs_nonevents = probs[reals == 0]\n\nevent_prob_greater_than_nonevent_prob = np.greater(\n  random.choices(sorted(probs_events), \n  k = 10000),\n  random.choices(sorted(probs_nonevents), \n  k = 10000)\n)\n\nunique_elements, counts_elements = np.unique(\n  event_prob_greater_than_nonevent_prob, return_counts=True)\n\ncounts_elements / 10000\n```\n\n::: {.cell-output .cell-output-stdout}\n```\narray([0.0781, 0.9219])\n```\n:::\n:::\n\n\n## Good AUROC does not necessarily mean a Good model\n\n<table>\n<thead>\n<tr class=\"header\">\n<th style=\"text-align: center;\"><p>Age</p></th>\n<th style=\"text-align: center;\"><p>64</p></th>\n<th style=\"text-align: center;\"><p>86</p></th>\n<th style=\"text-align: center;\"><p>56</p></th>\n<th style=\"text-align: center;\"><p>7</p></th>\n<th style=\"text-align: center;\"><p>78</p></th>\n<th style=\"text-align: center;\"><p>85</p></th>\n<th style=\"text-align: center;\"><p>6</p></th>\n<th style=\"text-align: center;\"><p>12</p></th>\n<th style=\"text-align: center;\"><p>67</p></th>\n<th style=\"text-align: center;\"><p>73</p></th>\n</tr>\n</thead>\n<tbody>\n<tr class=\"odd\">\n<td style=\"text-align: center;\"><p><strong>pÌ‚</strong></p></td>\n<td style=\"text-align: center;\"><p>0.3</p></td>\n<td style=\"text-align: center;\"><p>0.6</p></td>\n<td style=\"text-align: center;\"><p>0.4</p></td>\n<td style=\"text-align: center;\"><p>0.1</p></td>\n<td style=\"text-align: center;\"><p>0.4</p></td>\n<td style=\"text-align: center;\"><p>0.7</p></td>\n<td style=\"text-align: center;\"><p>0.3</p></td>\n<td style=\"text-align: center;\"><p>0.1</p></td>\n<td style=\"text-align: center;\"><p>0.2</p></td>\n<td style=\"text-align: center;\"><p>0.1</p></td>\n</tr>\n<tr class=\"even\">\n<td style=\"text-align: center;\"><p><strong>Y</strong></p></td>\n<td style=\"text-align: center;\"><p>0</p></td>\n<td style=\"text-align: center;\"><p>1</p></td>\n<td style=\"text-align: center;\"><p>1</p></td>\n<td style=\"text-align: center;\"><p>0</p></td>\n<td style=\"text-align: center;\"><p>1</p></td>\n<td style=\"text-align: center;\"><p>1</p></td>\n<td style=\"text-align: center;\"><p>0</p></td>\n<td style=\"text-align: center;\"><p>0</p></td>\n<td style=\"text-align: center;\"><p>1</p></td>\n<td style=\"text-align: center;\"><p>0</p></td>\n</tr>\n<tr class=\"odd\">\n<td style=\"text-align: center;\"></td>\n<td style=\"text-align: center;\"><p><br />\n<span class=\"emoji\" data-emoji=\"raised_eyebrow\">ğŸ¤¨</span></p></td>\n<td style=\"text-align: center;\"><p><br />\n<span class=\"emoji\" data-emoji=\"nauseated_face\">ğŸ¤¢</span></p></td>\n<td style=\"text-align: center;\"><p><br />\n<span class=\"emoji\" data-emoji=\"nauseated_face\">ğŸ¤¢</span></p></td>\n<td style=\"text-align: center;\"><p><br />\n<span class=\"emoji\" data-emoji=\"raised_eyebrow\">ğŸ¤¨</span></p></td>\n<td style=\"text-align: center;\"><p><br />\n<span class=\"emoji\" data-emoji=\"nauseated_face\">ğŸ¤¢</span></p></td>\n<td style=\"text-align: center;\"><p><br />\n<span class=\"emoji\" data-emoji=\"nauseated_face\">ğŸ¤¢</span></p></td>\n<td style=\"text-align: center;\"><p><br />\n<span class=\"emoji\" data-emoji=\"raised_eyebrow\">ğŸ¤¨</span></p></td>\n<td style=\"text-align: center;\"><p><br />\n<span class=\"emoji\" data-emoji=\"raised_eyebrow\">ğŸ¤¨</span></p></td>\n<td style=\"text-align: center;\"><p><br />\n<span class=\"emoji\" data-emoji=\"nauseated_face\">ğŸ¤¢</span></p></td>\n<td style=\"text-align: center;\"><p><br />\n<span class=\"emoji\" data-emoji=\"raised_eyebrow\">ğŸ¤¨</span></p></td>\n</tr>\n</tbody>\n</table>\n\nAUROC shows how well your model discriminates between events and non-events given a target population.\n\n## Good AUROC does not necessarily mean a Good model\n\n<table>\n<thead>\n<tr class=\"header\">\n<th style=\"text-align: center;\"><p>Age</p></th>\n<th style=\"text-align: center;\"><p>64</p></th>\n<th style=\"text-align: center;\"><p>86</p></th>\n<th style=\"text-align: center;\"><p>56</p></th>\n<th style=\"text-align: center;\"><p>7</p></th>\n<th style=\"text-align: center;\"><p>78</p></th>\n<th style=\"text-align: center;\"><p>85</p></th>\n<th style=\"text-align: center;\"><p>6</p></th>\n<th style=\"text-align: center;\"><p>12</p></th>\n<th style=\"text-align: center;\"><p>67</p></th>\n<th style=\"text-align: center;\"><p>73</p></th>\n</tr>\n</thead>\n<tbody>\n<tr class=\"odd\">\n<td style=\"text-align: center;\"><p><strong>pÌ‚</strong></p></td>\n<td style=\"text-align: center;\"><p>0.3</p></td>\n<td style=\"text-align: center;\"><p>0.6</p></td>\n<td style=\"text-align: center;\"><p>0.4</p></td>\n<td style=\"text-align: center;\"><p>0.1</p></td>\n<td style=\"text-align: center;\"><p>0.4</p></td>\n<td style=\"text-align: center;\"><p>0.7</p></td>\n<td style=\"text-align: center;\"><p>0.3</p></td>\n<td style=\"text-align: center;\"><p>0.1</p></td>\n<td style=\"text-align: center;\"><p>0.2</p></td>\n<td style=\"text-align: center;\"><p>0.1</p></td>\n</tr>\n<tr class=\"even\">\n<td style=\"text-align: center;\"><p><strong>Y</strong></p></td>\n<td style=\"text-align: center;\"><p>0</p></td>\n<td style=\"text-align: center;\"><p>1</p></td>\n<td style=\"text-align: center;\"><p>1</p></td>\n<td style=\"text-align: center;\"><p>0</p></td>\n<td style=\"text-align: center;\"><p>1</p></td>\n<td style=\"text-align: center;\"><p>1</p></td>\n<td style=\"text-align: center;\"><p>0</p></td>\n<td style=\"text-align: center;\"><p>0</p></td>\n<td style=\"text-align: center;\"><p>1</p></td>\n<td style=\"text-align: center;\"><p>0</p></td>\n</tr>\n<tr class=\"odd\">\n<td style=\"text-align: center;\"></td>\n<td style=\"text-align: center;\"><p><br />\n<span class=\"emoji\" data-emoji=\"raised_eyebrow\">ğŸ¤¨</span></p></td>\n<td style=\"text-align: center;\"><p><br />\n<span class=\"emoji\" data-emoji=\"older_woman\">ğŸ‘µ</span></p></td>\n<td style=\"text-align: center;\"><p><br />\n<span class=\"emoji\" data-emoji=\"nauseated_face\">ğŸ¤¢</span></p></td>\n<td style=\"text-align: center;\"><p><br />\n<span class=\"emoji\" data-emoji=\"child\">ğŸ§’</span></p></td>\n<td style=\"text-align: center;\"><p><br />\n<span class=\"emoji\" data-emoji=\"nauseated_face\">ğŸ¤¢</span></p></td>\n<td style=\"text-align: center;\"><p><br />\n<span class=\"emoji\" data-emoji=\"older_woman\">ğŸ‘µ</span></p></td>\n<td style=\"text-align: center;\"><p><br />\n<span class=\"emoji\" data-emoji=\"child\">ğŸ§’</span></p></td>\n<td style=\"text-align: center;\"><p><br />\n<span class=\"emoji\" data-emoji=\"child\">ğŸ§’</span></p></td>\n<td style=\"text-align: center;\"><p><br />\n<span class=\"emoji\" data-emoji=\"nauseated_face\">ğŸ¤¢</span></p></td>\n<td style=\"text-align: center;\"><p><br />\n<span class=\"emoji\" data-emoji=\"raised_eyebrow\">ğŸ¤¨</span></p></td>\n</tr>\n</tbody>\n</table>\n\nThis model has AUROC = 0.92, but the number is misleading:\\\nThe Target Population is not well defined.\n\n## Bad AUROC does not necessarily mean a Bad model\n\n+-------+-----+-----+-----+-----+-----+\n| Age   | 64  | 56  | 78  | 67  | 73  |\n+:=====:+:===:+:===:+:===:+:===:+:===:+\n| **pÌ‚** | 0.3 | 0.4 | 0.4 | 0.2 | 0.1 |\n+-------+-----+-----+-----+-----+-----+\n| **Y** | 0   | 1   | 1   | 1   | 0   |\n+-------+-----+-----+-----+-----+-----+\n|       | \\   | \\   | \\   | \\   | \\   |\n|       | ğŸ¤¨  | ğŸ¤¢  | ğŸ¤¢  | ğŸ¤¢  | ğŸ¤¨  |\n+-------+-----+-----+-----+-----+-----+\n\nThis model has AUROC = 0.83, but the number is misleading:\\\nThe Target Population is well defined.\n\n## Lift Curve\n\n| Curve             | Sens | Spec | PPV | PPCR  | Lift  |\n|:------------------|:----:|:----:|:---:|:-----:|:-----:|\n| ROC               |  y   |  x   |     |       |       |\n| **Lift**          |      |      |     | **x** | **y** |\n| Precision- Recall |  x   |      |  y  |       |       |\n| Gains             |  y   |      |     |   x   |       |\n\n## Lift Curve\n\n-   Lift is the ratio between the PPV and the Prevalence.\n\n-   Lift Curve displays Lift on the Y axis and PPCR (Predicted Positives Conditional Rate) on the X axis.\n\n-   In other words, lift shows how much the prediction is doing better than a random guess in terms of PPV.\n\n-   The reference line stands for the Lift of a random guess for a given PPCR, which is always equal to 1 because the observations are not sorted.\n\n## Precision-Recall\n\n| Curve                 | Sens  | Spec |  PPV  | PPCR | Lift |\n|:----------------------|:-----:|:----:|:-----:|:----:|:----:|\n| ROC                   |   y   |  x   |       |      |      |\n| Lift                  |       |      |       |  x   |  y   |\n| **Precision- Recall** | **x** |      | **y** |      |      |\n| Gains                 |   y   |      |       |  x   |      |\n\n## Precision Recall Curve\n\n-   Precision-Recall Curve displays PPV on the y axis and Sensitivity on the x axis.\n\n-   The reference line stands for the PPV of a random guess which is always equal to the prevalence and the Sensitivity of a random guess\n\n## Gains Curve\n\n| Curve             | Sens  | Spec | PPV | PPCR  | Lift |\n|:------------------|:-----:|:----:|:---:|:-----:|:----:|\n| ROC               |   y   |  x   |     |       |      |\n| Lift              |       |      |     |   x   |  y   |\n| Precision- Recall |   x   |      |  y  |       |      |\n| **Gains**         | **y** |      |     | **x** |      |\n\n## Gains Curve\n\n-   Gains Curve displays Sensitivity on the y axis and PPCR on the x axis.\n\n-   Gains shows the Sensitivity for a given PPCR.\n\n-   The reference lines stand for\n\n# Calibration **âš–ï¸**\n\n## Calibration **âš–ï¸**\n\n-   How well the model is \"calibrated\": Patients with a probability of about 0.2 to have an event have a proportion of about 0.2 events.\n\n-   In order to asses calibration we need to use quantiles of estimated probabilities (discrete version of calibration) or some kind of smoothing algorithm (gam or lowess).\n\n-   The main idea is to visually inspect for similarity with the linear line of 45 degrees.\n\n-   Visual inspection might be problematic, but from our experience it is a good-enough practice.\n\n## Calibration **âš–ï¸**\n\n### Why should we care?\n\n-   An accurate model in terms of Discrimination might produce uncalibrated estimated probabilities, that might lead to poor decisions.\n\n-   Logistic Regression is calibrated by default, but if you use fancy ML prediction models they might not be calibrated.\n\n## Calibration **âš–ï¸**\n\n### What if the model is not calibrated?\n\n-   Uncalibrated models can be fixed by remodeling the predictions with a simple logistic regression (recalibration).\n\n-   Python users might use [`sklearn.calibration.CalibratedClassifierCV`](https://scikit-learn.org/stable/modules/generated/sklearn.calibration.CalibratedClassifierCV.html).\n\n-   Optimizing the logloss function will produce calibrated model.\n\n## **Discrete** Calibration **âš–ï¸**\n\n<table>\n<thead>\n<tr class=\"header\">\n<th style=\"text-align: center;\"><p><strong>pÌ‚</strong></p></th>\n<th style=\"text-align: center;\"><p>0.3</p></th>\n<th style=\"text-align: center;\"><p>0.6</p></th>\n<th style=\"text-align: center;\"><p>0.4</p></th>\n<th style=\"text-align: center;\"><p>0.1</p></th>\n<th style=\"text-align: center;\"><p>0.4</p></th>\n<th style=\"text-align: center;\"><p>0.7</p></th>\n<th style=\"text-align: center;\"><p>0.3</p></th>\n<th style=\"text-align: center;\"><p>0.1</p></th>\n<th style=\"text-align: center;\"><p>0.2</p></th>\n<th style=\"text-align: center;\"><p>0.1</p></th>\n</tr>\n</thead>\n<tbody>\n<tr class=\"odd\">\n<td style=\"text-align: center;\"><p><strong>R</strong></p></td>\n<td style=\"text-align: center;\"><p>5.5</p></td>\n<td style=\"text-align: center;\"><p>2</p></td>\n<td style=\"text-align: center;\"><p>3.5</p></td>\n<td style=\"text-align: center;\"><p>9</p></td>\n<td style=\"text-align: center;\"><p>3.5</p></td>\n<td style=\"text-align: center;\"><p>1</p></td>\n<td style=\"text-align: center;\"><p>5.5</p></td>\n<td style=\"text-align: center;\"><p>9</p></td>\n<td style=\"text-align: center;\"><p>7</p></td>\n<td style=\"text-align: center;\"><p>9</p></td>\n</tr>\n<tr class=\"even\">\n<td style=\"text-align: center;\"><p><strong>Å¶</strong></p></td>\n<td style=\"text-align: center;\"><p>0</p></td>\n<td style=\"text-align: center;\"><p>0</p></td>\n<td style=\"text-align: center;\"><p>0</p></td>\n<td style=\"text-align: center;\"><p>0</p></td>\n<td style=\"text-align: center;\"><p>0</p></td>\n<td style=\"text-align: center;\"><p>1</p></td>\n<td style=\"text-align: center;\"><p>0</p></td>\n<td style=\"text-align: center;\"><p>0</p></td>\n<td style=\"text-align: center;\"><p>0</p></td>\n<td style=\"text-align: center;\"><p>0</p></td>\n</tr>\n<tr class=\"odd\">\n<td style=\"text-align: center;\"><p><strong>Y</strong></p></td>\n<td style=\"text-align: center;\"><p>0</p></td>\n<td style=\"text-align: center;\"><p>1</p></td>\n<td style=\"text-align: center;\"><p>1</p></td>\n<td style=\"text-align: center;\"><p>0</p></td>\n<td style=\"text-align: center;\"><p>1</p></td>\n<td style=\"text-align: center;\"><p>1</p></td>\n<td style=\"text-align: center;\"><p>0</p></td>\n<td style=\"text-align: center;\"><p>0</p></td>\n<td style=\"text-align: center;\"><p>1</p></td>\n<td style=\"text-align: center;\"><p>0</p></td>\n</tr>\n<tr class=\"even\">\n<td style=\"text-align: center;\"></td>\n<td style=\"text-align: center;\"><p><br />\n<span class=\"emoji\" data-emoji=\"raised_eyebrow\">ğŸ¤¨</span></p></td>\n<td style=\"text-align: center;\"><p><br />\n<span class=\"emoji\" data-emoji=\"nauseated_face\">ğŸ¤¢</span></p></td>\n<td style=\"text-align: center;\"><p><br />\n<span class=\"emoji\" data-emoji=\"nauseated_face\">ğŸ¤¢</span></p></td>\n<td style=\"text-align: center;\"><p><br />\n<span class=\"emoji\" data-emoji=\"raised_eyebrow\">ğŸ¤¨</span></p></td>\n<td style=\"text-align: center;\"><p><br />\n<span class=\"emoji\" data-emoji=\"nauseated_face\">ğŸ¤¢</span></p></td>\n<td style=\"text-align: center;\"><p><br />\n<span class=\"emoji\" data-emoji=\"nauseated_face\">ğŸ¤¢</span></p></td>\n<td style=\"text-align: center;\"><p><br />\n<span class=\"emoji\" data-emoji=\"raised_eyebrow\">ğŸ¤¨</span></p></td>\n<td style=\"text-align: center;\"><p><br />\n<span class=\"emoji\" data-emoji=\"raised_eyebrow\">ğŸ¤¨</span></p></td>\n<td style=\"text-align: center;\"><p><br />\n<span class=\"emoji\" data-emoji=\"nauseated_face\">ğŸ¤¢</span></p></td>\n<td style=\"text-align: center;\"><p><br />\n<span class=\"emoji\" data-emoji=\"raised_eyebrow\">ğŸ¤¨</span></p></td>\n</tr>\n</tbody>\n</table>\n\n## **Discrete** Calibration **âš–ï¸**\n\n<table>\n<thead>\n<tr class=\"header\">\n<th style=\"text-align: center;\"><p><strong>pÌ‚</strong></p></th>\n<th style=\"text-align: center;\"><p>0.1</p></th>\n<th style=\"text-align: center;\"><p>0.1</p></th>\n<th style=\"text-align: center;\"><p>0.1</p></th>\n<th style=\"text-align: center;\"><p>0.2</p></th>\n<th style=\"text-align: center;\"><p>0.3</p></th>\n<th style=\"text-align: center;\"><p>0.3</p></th>\n<th style=\"text-align: center;\"><p>0.4</p></th>\n<th style=\"text-align: center;\"><p>0.4</p></th>\n<th style=\"text-align: center;\"><p>0.6</p></th>\n<th style=\"text-align: center;\"><p>0.7</p></th>\n</tr>\n</thead>\n<tbody>\n<tr class=\"odd\">\n<td style=\"text-align: center;\"><p><strong>R</strong></p></td>\n<td style=\"text-align: center;\"><p>9</p></td>\n<td style=\"text-align: center;\"><p>9</p></td>\n<td style=\"text-align: center;\"><p>9</p></td>\n<td style=\"text-align: center;\"><p>7</p></td>\n<td style=\"text-align: center;\"><p>5.5</p></td>\n<td style=\"text-align: center;\"><p>5.5</p></td>\n<td style=\"text-align: center;\"><p>3.5</p></td>\n<td style=\"text-align: center;\"><p>3.5</p></td>\n<td style=\"text-align: center;\"><p>2</p></td>\n<td style=\"text-align: center;\"><p>1</p></td>\n</tr>\n<tr class=\"even\">\n<td style=\"text-align: center;\"><p><strong>Å¶</strong></p></td>\n<td style=\"text-align: center;\"><p>0</p></td>\n<td style=\"text-align: center;\"><p>0</p></td>\n<td style=\"text-align: center;\"><p>0</p></td>\n<td style=\"text-align: center;\"><p>0</p></td>\n<td style=\"text-align: center;\"><p>0</p></td>\n<td style=\"text-align: center;\"><p>0</p></td>\n<td style=\"text-align: center;\"><p>0</p></td>\n<td style=\"text-align: center;\"><p>0</p></td>\n<td style=\"text-align: center;\"><p>0</p></td>\n<td style=\"text-align: center;\"><p>1</p></td>\n</tr>\n<tr class=\"odd\">\n<td style=\"text-align: center;\"><p><strong>Y</strong></p></td>\n<td style=\"text-align: center;\"><p>0</p></td>\n<td style=\"text-align: center;\"><p>0</p></td>\n<td style=\"text-align: center;\"><p>0</p></td>\n<td style=\"text-align: center;\"><p>1</p></td>\n<td style=\"text-align: center;\"><p>0</p></td>\n<td style=\"text-align: center;\"><p>0</p></td>\n<td style=\"text-align: center;\"><p>1</p></td>\n<td style=\"text-align: center;\"><p>1</p></td>\n<td style=\"text-align: center;\"><p>1</p></td>\n<td style=\"text-align: center;\"><p>1</p></td>\n</tr>\n<tr class=\"even\">\n<td style=\"text-align: center;\"></td>\n<td style=\"text-align: center;\"><p><br />\n<span class=\"emoji\" data-emoji=\"raised_eyebrow\">ğŸ¤¨</span></p></td>\n<td style=\"text-align: center;\"><p><br />\n<span class=\"emoji\" data-emoji=\"raised_eyebrow\">ğŸ¤¨</span></p></td>\n<td style=\"text-align: center;\"><p><br />\n<span class=\"emoji\" data-emoji=\"raised_eyebrow\">ğŸ¤¨</span></p></td>\n<td style=\"text-align: center;\"><p><br />\n<span class=\"emoji\" data-emoji=\"nauseated_face\">ğŸ¤¢</span></p></td>\n<td style=\"text-align: center;\"><p><br />\n<span class=\"emoji\" data-emoji=\"raised_eyebrow\">ğŸ¤¨</span></p></td>\n<td style=\"text-align: center;\"><p><br />\n<span class=\"emoji\" data-emoji=\"raised_eyebrow\">ğŸ¤¨</span></p></td>\n<td style=\"text-align: center;\"><p><br />\n<span class=\"emoji\" data-emoji=\"nauseated_face\">ğŸ¤¢</span></p></td>\n<td style=\"text-align: center;\"><p><br />\n<span class=\"emoji\" data-emoji=\"nauseated_face\">ğŸ¤¢</span></p></td>\n<td style=\"text-align: center;\"><p><br />\n<span class=\"emoji\" data-emoji=\"nauseated_face\">ğŸ¤¢</span></p></td>\n<td style=\"text-align: center;\"><p><br />\n<span class=\"emoji\" data-emoji=\"nauseated_face\">ğŸ¤¢</span></p></td>\n</tr>\n</tbody>\n</table>\n\n## **Discrete** Calibration **âš–ï¸**\n\n::: columns\n::: {.column width=\"50%\"}\n+:-----:+:---:+:---:+:---:+:---:+\n| **pÌ‚** | 0.1 | 0.1 | 0.1 | 0.2 |\n+-------+-----+-----+-----+-----+\n| **R** | 9   | 9   | 9   | 7   |\n+-------+-----+-----+-----+-----+\n| **Å¶** | 0   | 0   | 0   | 0   |\n+-------+-----+-----+-----+-----+\n| **Y** | 0   | 0   | 0   | 1   |\n+-------+-----+-----+-----+-----+\n|       | \\   | \\   | \\   | \\   |\n|       | ğŸ¤¨  | ğŸ¤¨  | ğŸ¤¨  | ğŸ¤¢  |\n+-------+-----+-----+-----+-----+\n:::\n\n::: {.column width=\"50%\"}\n$$\\begin{aligned}\n\\scriptsize{\n\\\\\\text{Observed: }\\frac{\\text{1}}{\\text{4}} = 0.25}\n\\end{aligned}$$\n\n$$\\begin{aligned}\n\\scriptsize{\n\\\\\\text{Predicted: }\\frac{\\text{0.1 + 0.1 + 0.1 + 0.2}}{\\text{4}} = 0.125}\n\\end{aligned}$$\n:::\n:::\n\n## **Discrete** Calibration **âš–ï¸**\n\n::: columns\n::: {.column width=\"50%\"}\n+-------+-----+-----+-----+\n| **pÌ‚** | 0.3 | 0.3 | 0.4 |\n+:=====:+:===:+:===:+:===:+\n| **R** | 5.5 | 5.5 | 3.5 |\n+-------+-----+-----+-----+\n| **Å¶** | 0   | 0   | 0   |\n+-------+-----+-----+-----+\n| **Y** | 0   | 0   | 1   |\n+-------+-----+-----+-----+\n|       | \\   | \\   | \\   |\n|       | ğŸ¤¨  | ğŸ¤¨  | ğŸ¤¢  |\n+-------+-----+-----+-----+\n:::\n\n::: {.column width=\"50%\"}\n$$\\begin{aligned}\n\\scriptsize{\n\\\\\\text{Observed: }\\frac{\\text{1}}{\\text{3}} = 0.33'}\n\\end{aligned}$$\n\n$$\\begin{aligned}\n\\scriptsize{\n\\\\\\text{Predicted: }\\frac{\\text{0.3 + 0.3 + 0.4}}{\\text{3}} = 0.33'}\n\\end{aligned}$$\n:::\n:::\n\n## **Discrete** Calibration **âš–ï¸**\n\n::: columns\n::: {.column width=\"50%\"}\n+-------+-----+-----+-----+\n| **pÌ‚** | 0.4 | 0.6 | 0.7 |\n+:=====:+:===:+:===:+:===:+\n| **R** | 3.5 | 2   | 1   |\n+-------+-----+-----+-----+\n| **Å¶** | 0   | 0   | 1   |\n+-------+-----+-----+-----+\n| **Y** | 1   | 1   | 1   |\n+-------+-----+-----+-----+\n|       | \\   | \\   | \\   |\n|       | ğŸ¤¢  | ğŸ¤¢  | ğŸ¤¢  |\n+-------+-----+-----+-----+\n:::\n\n::: {.column width=\"50%\"}\n$$\\begin{aligned}\n\\scriptsize{\n\\\\\\text{Observed: }\\frac{\\text{3}}{\\text{3}} = 1}\n\\end{aligned}$$\n\n$$\\begin{aligned}\n\\scriptsize{\n\\\\\\text{Predicted: }\\frac{\\text{0.4 + 0.6 + 0.7}}{\\text{3}} = 0.566'}\n\\end{aligned}$$\n:::\n:::\n\n## **Discrete** Calibration **âš–ï¸**\n\n\n::: {.cell}\n::: {.cell-output-display}\n```{=html}\n<div id=\"htmlwidget-dc824c3ec6fe7a8d65bc\" style=\"width:450px;height:480px;\" class=\"plotly html-widget\"></div>\n<script type=\"application/json\" data-for=\"htmlwidget-dc824c3ec6fe7a8d65bc\">{\"x\":{\"visdat\":{\"1d30853672\":[\"function () \",\"plotlyVisDat\"],\"1d3075a37cf4\":[\"function () \",\"data\"],\"1d304a007d2\":[\"function () \",\"data\"]},\"cur_data\":\"1d304a007d2\",\"attrs\":{\"1d3075a37cf4\":{\"heigt\":450,\"x\":{},\"y\":{},\"alpha_stroke\":1,\"sizes\":[10,100],\"spans\":[1,20],\"type\":\"scatter\",\"mode\":\"lines\",\"name\":\"Perfect Calibration\",\"color\":[\"grey\"],\"line\":{\"dash\":\"dot\"},\"showlegend\":false,\"inherit\":true},\"1d304a007d2\":{\"heigt\":450,\"x\":{},\"y\":{},\"alpha_stroke\":1,\"sizes\":[10,100],\"spans\":[1,20],\"color\":[\"black\"],\"showlegend\":false,\"name\":\"Discrete\",\"mode\":\"lines+markers\",\"hovertemplate\":\"<b>%{xaxis.title.text}:<\\/b> %{x:.2f}<br><b>%{yaxis.title.text}:<\\/b> %{y:.2f}\",\"inherit\":true}},\"layout\":{\"width\":450,\"margin\":{\"b\":40,\"l\":60,\"t\":25,\"r\":10},\"xaxis\":{\"domain\":[0,1],\"automargin\":true,\"showgrid\":false,\"title\":\"Predicted\"},\"yaxis\":{\"domain\":[0,1],\"automargin\":true,\"showgrid\":false,\"title\":\"Observed\"},\"plot_bgcolor\":\"rgba(0, 0, 0, 0)\",\"paper_bgcolor\":\"rgba(0, 0, 0, 0)\",\"fig_bgcolor\":\"rgba(0, 0, 0, 0)\",\"hovermode\":\"closest\",\"showlegend\":false},\"source\":\"A\",\"config\":{\"modeBarButtonsToAdd\":[\"hoverclosest\",\"hovercompare\"],\"showSendToCloud\":false,\"displayModeBar\":false},\"data\":[{\"heigt\":450,\"x\":[0,1],\"y\":[0,1],\"type\":\"scatter\",\"mode\":\"lines\",\"name\":\"Perfect Calibration\",\"line\":{\"color\":\"rgba(190,190,190,1)\",\"dash\":\"dot\"},\"showlegend\":false,\"marker\":{\"color\":\"rgba(190,190,190,1)\",\"line\":{\"color\":\"rgba(190,190,190,1)\"}},\"textfont\":{\"color\":\"rgba(190,190,190,1)\"},\"error_y\":{\"color\":\"rgba(190,190,190,1)\"},\"error_x\":{\"color\":\"rgba(190,190,190,1)\"},\"xaxis\":\"x\",\"yaxis\":\"y\",\"frame\":null},{\"heigt\":450,\"x\":[0.15,0.33,0.56],\"y\":[0.25,0.33,1],\"showlegend\":false,\"name\":\"Discrete\",\"mode\":\"lines+markers\",\"hovertemplate\":[\"<b>%{xaxis.title.text}:<\\/b> %{x:.2f}<br><b>%{yaxis.title.text}:<\\/b> %{y:.2f}\",\"<b>%{xaxis.title.text}:<\\/b> %{x:.2f}<br><b>%{yaxis.title.text}:<\\/b> %{y:.2f}\",\"<b>%{xaxis.title.text}:<\\/b> %{x:.2f}<br><b>%{yaxis.title.text}:<\\/b> %{y:.2f}\"],\"type\":\"scatter\",\"marker\":{\"color\":\"rgba(0,0,0,1)\",\"line\":{\"color\":\"rgba(0,0,0,1)\"}},\"textfont\":{\"color\":\"rgba(0,0,0,1)\"},\"error_y\":{\"color\":\"rgba(0,0,0,1)\"},\"error_x\":{\"color\":\"rgba(0,0,0,1)\"},\"line\":{\"color\":\"rgba(0,0,0,1)\"},\"xaxis\":\"x\",\"yaxis\":\"y\",\"frame\":null}],\"highlight\":{\"on\":\"plotly_click\",\"persistent\":false,\"dynamic\":false,\"selectize\":false,\"opacityDim\":0.2,\"selected\":{\"opacity\":1},\"debounce\":0},\"shinyEvents\":[\"plotly_hover\",\"plotly_click\",\"plotly_selected\",\"plotly_relayout\",\"plotly_brushed\",\"plotly_brushing\",\"plotly_clickannotation\",\"plotly_doubleclick\",\"plotly_deselect\",\"plotly_afterplot\",\"plotly_sunburstclick\"],\"base_url\":\"https://plot.ly\"},\"evals\":[],\"jsHooks\":[]}</script>\n```\n:::\n:::\n\n\n## **Discrete** Calibration **âš–ï¸**\n\n\n::: {.cell}\n::: {.cell-output-display}\n```{=html}\n<div id=\"htmlwidget-29b1ddc3145ffdd09172\" style=\"width:450px;height:480px;\" class=\"plotly html-widget\"></div>\n<script type=\"application/json\" data-for=\"htmlwidget-29b1ddc3145ffdd09172\">{\"x\":{\"visdat\":{\"1d307e6e7dd8\":[\"function () \",\"plotlyVisDat\"],\"1d3062493d65\":[\"function () \",\"data\"],\"1d3018d12276\":[\"function () \",\"data\"]},\"cur_data\":\"1d3018d12276\",\"attrs\":{\"1d3062493d65\":{\"heigt\":450,\"x\":{},\"y\":{},\"alpha_stroke\":1,\"sizes\":[10,100],\"spans\":[1,20],\"type\":\"scatter\",\"mode\":\"lines\",\"name\":\"Perfect Calibration\",\"color\":[\"grey\"],\"line\":{\"dash\":\"dot\"},\"showlegend\":false,\"inherit\":true},\"1d3018d12276\":{\"heigt\":450,\"x\":{},\"y\":{},\"alpha_stroke\":1,\"sizes\":[10,100],\"spans\":[1,20],\"color\":[\"black\"],\"showlegend\":false,\"name\":\"Discrete\",\"mode\":\"lines+markers\",\"hovertemplate\":\"<b>%{xaxis.title.text}:<\\/b> %{x:.2f}<br><b>%{yaxis.title.text}:<\\/b> %{y:.2f}\",\"inherit\":true}},\"layout\":{\"width\":450,\"margin\":{\"b\":40,\"l\":60,\"t\":25,\"r\":10},\"xaxis\":{\"domain\":[0,1],\"automargin\":true,\"showgrid\":false,\"title\":\"Predicted\"},\"yaxis\":{\"domain\":[0,1],\"automargin\":true,\"showgrid\":false,\"title\":\"Observed\"},\"plot_bgcolor\":\"rgba(0, 0, 0, 0)\",\"paper_bgcolor\":\"rgba(0, 0, 0, 0)\",\"fig_bgcolor\":\"rgba(0, 0, 0, 0)\",\"hovermode\":\"closest\",\"showlegend\":false},\"source\":\"A\",\"config\":{\"modeBarButtonsToAdd\":[\"hoverclosest\",\"hovercompare\"],\"showSendToCloud\":false,\"displayModeBar\":false},\"data\":[{\"heigt\":450,\"x\":[0,1],\"y\":[0,1],\"type\":\"scatter\",\"mode\":\"lines\",\"name\":\"Perfect Calibration\",\"line\":{\"color\":\"rgba(190,190,190,1)\",\"dash\":\"dot\"},\"showlegend\":false,\"marker\":{\"color\":\"rgba(190,190,190,1)\",\"line\":{\"color\":\"rgba(190,190,190,1)\"}},\"textfont\":{\"color\":\"rgba(190,190,190,1)\"},\"error_y\":{\"color\":\"rgba(190,190,190,1)\"},\"error_x\":{\"color\":\"rgba(190,190,190,1)\"},\"xaxis\":\"x\",\"yaxis\":\"y\",\"frame\":null},{\"heigt\":450,\"x\":[0.15,0.33,0.56],\"y\":[0.25,0.33,1],\"showlegend\":false,\"name\":\"Discrete\",\"mode\":\"lines+markers\",\"hovertemplate\":[\"<b>%{xaxis.title.text}:<\\/b> %{x:.2f}<br><b>%{yaxis.title.text}:<\\/b> %{y:.2f}\",\"<b>%{xaxis.title.text}:<\\/b> %{x:.2f}<br><b>%{yaxis.title.text}:<\\/b> %{y:.2f}\",\"<b>%{xaxis.title.text}:<\\/b> %{x:.2f}<br><b>%{yaxis.title.text}:<\\/b> %{y:.2f}\"],\"type\":\"scatter\",\"marker\":{\"color\":\"rgba(0,0,0,1)\",\"line\":{\"color\":\"rgba(0,0,0,1)\"}},\"textfont\":{\"color\":\"rgba(0,0,0,1)\"},\"error_y\":{\"color\":\"rgba(0,0,0,1)\"},\"error_x\":{\"color\":\"rgba(0,0,0,1)\"},\"line\":{\"color\":\"rgba(0,0,0,1)\"},\"xaxis\":\"x\",\"yaxis\":\"y\",\"frame\":null}],\"highlight\":{\"on\":\"plotly_click\",\"persistent\":false,\"dynamic\":false,\"selectize\":false,\"opacityDim\":0.2,\"selected\":{\"opacity\":1},\"debounce\":0},\"shinyEvents\":[\"plotly_hover\",\"plotly_click\",\"plotly_selected\",\"plotly_relayout\",\"plotly_brushed\",\"plotly_brushing\",\"plotly_clickannotation\",\"plotly_doubleclick\",\"plotly_deselect\",\"plotly_afterplot\",\"plotly_sunburstclick\"],\"base_url\":\"https://plot.ly\"},\"evals\":[],\"jsHooks\":[]}</script>\n```\n:::\n:::\n\n\n## **Discrete** Calibration **âš–ï¸**\n\n\n::: {.cell}\n::: {.cell-output-display}\n```{=html}\n<div id=\"htmlwidget-12bc737dbd4521ae995b\" style=\"width:500px;height:500px;\" class=\"plotly html-widget\"></div>\n<script type=\"application/json\" data-for=\"htmlwidget-12bc737dbd4521ae995b\">{\"x\":{\"data\":[{\"x\":[9.75287808746594e-05,0.000978719294092639,0.00498778033565823,0.0147562467544856,0.0628606645947794,0.177532122289308,0.405171579282228,0.791497348175773,0.899102264896271,0.976349078930361],\"y\":[0,0,0,0,0.0666666666666667,0.133333333333333,0.533333333333333,0.866666666666667,0.733333333333333,1],\"legendgroup\":\"model 1\",\"type\":\"scatter\",\"mode\":\"markers\",\"showlegend\":true,\"hovertemplate\":[\"<b>%{xaxis.title.text}:<\\/b> %{x:.2f}<br><b>%{yaxis.title.text}:<\\/b> %{y:.2f}<extra><\\/extra>\",\"<b>%{xaxis.title.text}:<\\/b> %{x:.2f}<br><b>%{yaxis.title.text}:<\\/b> %{y:.2f}<extra><\\/extra>\",\"<b>%{xaxis.title.text}:<\\/b> %{x:.2f}<br><b>%{yaxis.title.text}:<\\/b> %{y:.2f}<extra><\\/extra>\",\"<b>%{xaxis.title.text}:<\\/b> %{x:.2f}<br><b>%{yaxis.title.text}:<\\/b> %{y:.2f}<extra><\\/extra>\",\"<b>%{xaxis.title.text}:<\\/b> %{x:.2f}<br><b>%{yaxis.title.text}:<\\/b> %{y:.2f}<extra><\\/extra>\",\"<b>%{xaxis.title.text}:<\\/b> %{x:.2f}<br><b>%{yaxis.title.text}:<\\/b> %{y:.2f}<extra><\\/extra>\",\"<b>%{xaxis.title.text}:<\\/b> %{x:.2f}<br><b>%{yaxis.title.text}:<\\/b> %{y:.2f}<extra><\\/extra>\",\"<b>%{xaxis.title.text}:<\\/b> %{x:.2f}<br><b>%{yaxis.title.text}:<\\/b> %{y:.2f}<extra><\\/extra>\",\"<b>%{xaxis.title.text}:<\\/b> %{x:.2f}<br><b>%{yaxis.title.text}:<\\/b> %{y:.2f}<extra><\\/extra>\",\"<b>%{xaxis.title.text}:<\\/b> %{x:.2f}<br><b>%{yaxis.title.text}:<\\/b> %{y:.2f}<extra><\\/extra>\"],\"name\":\"model 1\",\"marker\":{\"color\":\"rgba(0,0,0,1)\",\"line\":{\"color\":\"rgba(0,0,0,1)\"}},\"textfont\":{\"color\":\"rgba(0,0,0,1)\"},\"error_y\":{\"color\":\"rgba(0,0,0,1)\"},\"error_x\":{\"color\":\"rgba(0,0,0,1)\"},\"line\":{\"color\":\"rgba(0,0,0,1)\"},\"xaxis\":\"x\",\"yaxis\":\"y\",\"frame\":null},{\"x\":[0,1],\"y\":[0,1],\"legendgroup\":\"reference\",\"type\":\"scatter\",\"mode\":\"lines\",\"line\":{\"color\":\"rgba(190,190,190,1)\",\"width\":1},\"name\":\"reference\",\"marker\":{\"color\":\"rgba(190,190,190,1)\",\"line\":{\"color\":\"rgba(190,190,190,1)\"}},\"textfont\":{\"color\":\"rgba(190,190,190,1)\"},\"error_y\":{\"color\":\"rgba(190,190,190,1)\"},\"error_x\":{\"color\":\"rgba(190,190,190,1)\"},\"xaxis\":\"x\",\"yaxis\":\"y\",\"frame\":null},{\"x\":[9.75287808746594e-05,0.000978719294092639,0.00498778033565823,0.0147562467544856,0.0628606645947794,0.177532122289308,0.405171579282228,0.791497348175773,0.899102264896271,0.976349078930361],\"y\":[0,0,0,0,0.0666666666666667,0.133333333333333,0.533333333333333,0.866666666666667,0.733333333333333,1],\"legendgroup\":\"model 1\",\"type\":\"scatter\",\"mode\":\"lines\",\"line\":{\"color\":\"rgba(0,0,0,1)\",\"width\":1},\"name\":\"model 1\",\"marker\":{\"color\":\"rgba(0,0,0,1)\",\"line\":{\"color\":\"rgba(0,0,0,1)\"}},\"textfont\":{\"color\":\"rgba(0,0,0,1)\"},\"error_y\":{\"color\":\"rgba(0,0,0,1)\"},\"error_x\":{\"color\":\"rgba(0,0,0,1)\"},\"xaxis\":\"x\",\"yaxis\":\"y\",\"frame\":null},{\"x\":[0.005,0.015,0.025,0.035,0.045,0.055,0.065,0.075,0.085,0.095,0.105,0.115,0.125,0.135,0.145,0.155,0.165,0.175,0.185,0.195,0.205,0.215,0.225,0.235,0.245,0.255,0.265,0.275,0.285,0.295,0.305,0.315,0.325,0.335,0.345,0.355,0.365,0.375,0.385,0.395,0.405,0.415,0.425,0.435,0.445,0.455,0.465,0.475,0.485,0.495,0.505,0.515,0.525,0.535,0.545,0.555,0.565,0.575,0.585,0.595,0.605,0.615,0.625,0.635,0.645,0.655,0.665,0.675,0.685,0.695,0.705,0.715,0.725,0.735,0.745,0.755,0.765,0.775,0.785,0.795,0.805,0.815,0.825,0.835,0.845,0.855,0.865,0.875,0.885,0.895,0.905,0.915,0.925,0.935,0.945,0.955,0.965,0.975,0.985,0.995],\"y\":[51,4,6,6,0,0,3,0,0,0,7,0,0,0,0,8,0,0,0,0,0,0,0,6,0,0,0,0,0,0,0,0,0,0,7,0,0,0,0,0,0,0,0,0,0,0,6,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,4,0,0,0,0,0,0,0,0,9,0,0,0,0,0,0,10,0,0,0,0,6,0,0,5,0,2,5,4],\"type\":\"bar\",\"width\":[0.01,0.01,0.01,0.01,0.01,0.01,0.01,0.01,0.01,0.01,0.01,0.01,0.01,0.01,0.01,0.01,0.01,0.01,0.01,0.01,0.01,0.01,0.01,0.01,0.01,0.01,0.01,0.01,0.01,0.01,0.01,0.01,0.01,0.01,0.01,0.01,0.01,0.01,0.01,0.01,0.01,0.01,0.01,0.01,0.01,0.01,0.01,0.01,0.01,0.01,0.01,0.01,0.01,0.01,0.01,0.01,0.01,0.01,0.01,0.01,0.01,0.01,0.01,0.01,0.01,0.01,0.01,0.01,0.01,0.01,0.01,0.01,0.01,0.01,0.01,0.01,0.01,0.01,0.01,0.01,0.01,0.01,0.01,0.01,0.01,0.01,0.01,0.01,0.01,0.01,0.01,0.01,0.01,0.01,0.01,0.01,0.01,0.01,0.01,0.01],\"text\":[\"51 observations in [0,0.01]\",\"4 observations in (0.01,0.02]\",\"6 observations in (0.02,0.03]\",\"6 observations in (0.03,0.04]\",\"0 observations in (0.04,0.05]\",\"0 observations in (0.05,0.06]\",\"3 observations in (0.06,0.07]\",\"0 observations in (0.07,0.08]\",\"0 observations in (0.08,0.09]\",\"0 observations in (0.09,0.1]\",\"7 observations in (0.1,0.11]\",\"0 observations in (0.11,0.12]\",\"0 observations in (0.12,0.13]\",\"0 observations in (0.13,0.14]\",\"0 observations in (0.14,0.15]\",\"8 observations in (0.15,0.16]\",\"0 observations in (0.16,0.17]\",\"0 observations in (0.17,0.18]\",\"0 observations in (0.18,0.19]\",\"0 observations in (0.19,0.2]\",\"0 observations in (0.2,0.21]\",\"0 observations in (0.21,0.22]\",\"0 observations in (0.22,0.23]\",\"6 observations in (0.23,0.24]\",\"0 observations in (0.24,0.25]\",\"0 observations in (0.25,0.26]\",\"0 observations in (0.26,0.27]\",\"0 observations in (0.27,0.28]\",\"0 observations in (0.28,0.29]\",\"0 observations in (0.29,0.3]\",\"0 observations in (0.3,0.31]\",\"0 observations in (0.31,0.32]\",\"0 observations in (0.32,0.33]\",\"0 observations in (0.33,0.34]\",\"7 observations in (0.34,0.35]\",\"0 observations in (0.35,0.36]\",\"0 observations in (0.36,0.37]\",\"0 observations in (0.37,0.38]\",\"0 observations in (0.38,0.39]\",\"0 observations in (0.39,0.4]\",\"0 observations in (0.4,0.41]\",\"0 observations in (0.41,0.42]\",\"0 observations in (0.42,0.43]\",\"0 observations in (0.43,0.44]\",\"0 observations in (0.44,0.45]\",\"0 observations in (0.45,0.46]\",\"6 observations in (0.46,0.47]\",\"0 observations in (0.47,0.48]\",\"0 observations in (0.48,0.49]\",\"0 observations in (0.49,0.5]\",\"0 observations in (0.5,0.51]\",\"0 observations in (0.51,0.52]\",\"0 observations in (0.52,0.53]\",\"0 observations in (0.53,0.54]\",\"0 observations in (0.54,0.55]\",\"0 observations in (0.55,0.56]\",\"0 observations in (0.56,0.57]\",\"0 observations in (0.57,0.58]\",\"0 observations in (0.58,0.59]\",\"1 observations in (0.59,0.6]\",\"0 observations in (0.6,0.61]\",\"0 observations in (0.61,0.62]\",\"0 observations in (0.62,0.63]\",\"0 observations in (0.63,0.64]\",\"0 observations in (0.64,0.65]\",\"0 observations in (0.65,0.66]\",\"0 observations in (0.66,0.67]\",\"0 observations in (0.67,0.68]\",\"0 observations in (0.68,0.69]\",\"0 observations in (0.69,0.7]\",\"0 observations in (0.7,0.71]\",\"4 observations in (0.71,0.72]\",\"0 observations in (0.72,0.73]\",\"0 observations in (0.73,0.74]\",\"0 observations in (0.74,0.75]\",\"0 observations in (0.75,0.76]\",\"0 observations in (0.76,0.77]\",\"0 observations in (0.77,0.78]\",\"0 observations in (0.78,0.79]\",\"0 observations in (0.79,0.8]\",\"9 observations in (0.8,0.81]\",\"0 observations in (0.81,0.82]\",\"0 observations in (0.82,0.83]\",\"0 observations in (0.83,0.84]\",\"0 observations in (0.84,0.85]\",\"0 observations in (0.85,0.86]\",\"0 observations in (0.86,0.87]\",\"10 observations in (0.87,0.88]\",\"0 observations in (0.88,0.89]\",\"0 observations in (0.89,0.9]\",\"0 observations in (0.9,0.91]\",\"0 observations in (0.91,0.92]\",\"6 observations in (0.92,0.93]\",\"0 observations in (0.93,0.94]\",\"0 observations in (0.94,0.95]\",\"5 observations in (0.95,0.96]\",\"0 observations in (0.96,0.97]\",\"2 observations in (0.97,0.98]\",\"5 observations in (0.98,0.99]\",\"4 observations in (0.99,1]\"],\"hoverinfo\":[\"text\",\"text\",\"text\",\"text\",\"text\",\"text\",\"text\",\"text\",\"text\",\"text\",\"text\",\"text\",\"text\",\"text\",\"text\",\"text\",\"text\",\"text\",\"text\",\"text\",\"text\",\"text\",\"text\",\"text\",\"text\",\"text\",\"text\",\"text\",\"text\",\"text\",\"text\",\"text\",\"text\",\"text\",\"text\",\"text\",\"text\",\"text\",\"text\",\"text\",\"text\",\"text\",\"text\",\"text\",\"text\",\"text\",\"text\",\"text\",\"text\",\"text\",\"text\",\"text\",\"text\",\"text\",\"text\",\"text\",\"text\",\"text\",\"text\",\"text\",\"text\",\"text\",\"text\",\"text\",\"text\",\"text\",\"text\",\"text\",\"text\",\"text\",\"text\",\"text\",\"text\",\"text\",\"text\",\"text\",\"text\",\"text\",\"text\",\"text\",\"text\",\"text\",\"text\",\"text\",\"text\",\"text\",\"text\",\"text\",\"text\",\"text\",\"text\",\"text\",\"text\",\"text\",\"text\",\"text\",\"text\",\"text\",\"text\",\"text\"],\"textposition\":[\"none\",\"none\",\"none\",\"none\",\"none\",\"none\",\"none\",\"none\",\"none\",\"none\",\"none\",\"none\",\"none\",\"none\",\"none\",\"none\",\"none\",\"none\",\"none\",\"none\",\"none\",\"none\",\"none\",\"none\",\"none\",\"none\",\"none\",\"none\",\"none\",\"none\",\"none\",\"none\",\"none\",\"none\",\"none\",\"none\",\"none\",\"none\",\"none\",\"none\",\"none\",\"none\",\"none\",\"none\",\"none\",\"none\",\"none\",\"none\",\"none\",\"none\",\"none\",\"none\",\"none\",\"none\",\"none\",\"none\",\"none\",\"none\",\"none\",\"none\",\"none\",\"none\",\"none\",\"none\",\"none\",\"none\",\"none\",\"none\",\"none\",\"none\",\"none\",\"none\",\"none\",\"none\",\"none\",\"none\",\"none\",\"none\",\"none\",\"none\",\"none\",\"none\",\"none\",\"none\",\"none\",\"none\",\"none\",\"none\",\"none\",\"none\",\"none\",\"none\",\"none\",\"none\",\"none\",\"none\",\"none\",\"none\",\"none\",\"none\"],\"marker\":{\"color\":\"rgba(89,89,89,1)\",\"line\":{\"color\":\"rgba(89,89,89,1)\"}},\"textfont\":{\"color\":\"rgba(89,89,89,1)\"},\"error_y\":{\"color\":\"rgba(89,89,89,1)\"},\"error_x\":{\"color\":\"rgba(89,89,89,1)\"},\"xaxis\":\"x\",\"yaxis\":\"y2\",\"frame\":null}],\"layout\":{\"xaxis\":{\"domain\":[0,1],\"automargin\":true,\"range\":[-0.05,1.05],\"showgrid\":false,\"title\":\"Predicted\",\"anchor\":\"y2\"},\"yaxis2\":{\"domain\":[0,0.18],\"automargin\":true,\"showgrid\":false,\"anchor\":\"x\"},\"yaxis\":{\"domain\":[0.22,1],\"automargin\":true,\"range\":[-0.05,1.05],\"showgrid\":false,\"anchor\":\"x\",\"title\":\"Observed\"},\"annotations\":[],\"shapes\":[],\"images\":[],\"width\":500,\"height\":500,\"margin\":{\"b\":40,\"l\":60,\"t\":25,\"r\":10},\"showlegend\":false,\"hovermode\":\"closest\",\"barmode\":\"overlay\",\"plot_bgcolor\":\"rgba(0, 0, 0, 0)\",\"paper_bgcolor\":\"rgba(0, 0, 0, 0)\",\"fig_bgcolor\":\"rgba(0, 0, 0, 0)\"},\"attrs\":{\"1d3034e128dc\":{\"x\":{},\"y\":{},\"legendgroup\":{},\"color\":{},\"colors\":[\"grey\",\"black\"],\"alpha_stroke\":1,\"sizes\":[10,100],\"spans\":[1,20],\"type\":\"scatter\",\"mode\":\"markers\",\"showlegend\":true,\"hovertemplate\":\"<b>%{xaxis.title.text}:<\\/b> %{x:.2f}<br><b>%{yaxis.title.text}:<\\/b> %{y:.2f}<extra><\\/extra>\",\"inherit\":true},\"1d302b6d6638\":{\"x\":{},\"y\":{},\"legendgroup\":{},\"color\":{},\"colors\":[\"grey\",\"black\"],\"alpha_stroke\":1,\"sizes\":[10,100],\"spans\":[1,20],\"type\":\"scatter\",\"mode\":\"lines\",\"line\":{\"width\":1},\"inherit\":true},\"1d3027843d3\":{\"alpha_stroke\":1,\"sizes\":[10,100],\"spans\":[1,20],\"x\":{},\"y\":{},\"type\":\"bar\",\"width\":0.01,\"color\":[\"grey35\"],\"text\":{},\"hoverinfo\":\"text\",\"textposition\":\"none\",\"inherit\":true}},\"source\":\"A\",\"config\":{\"modeBarButtonsToAdd\":[\"hoverclosest\",\"hovercompare\"],\"showSendToCloud\":false,\"displayModeBar\":false},\"highlight\":{\"on\":\"plotly_click\",\"persistent\":false,\"dynamic\":false,\"selectize\":false,\"opacityDim\":0.2,\"selected\":{\"opacity\":1},\"debounce\":0},\"subplot\":true,\"shinyEvents\":[\"plotly_hover\",\"plotly_click\",\"plotly_selected\",\"plotly_relayout\",\"plotly_brushed\",\"plotly_brushing\",\"plotly_clickannotation\",\"plotly_doubleclick\",\"plotly_deselect\",\"plotly_afterplot\",\"plotly_sunburstclick\"],\"base_url\":\"https://plot.ly\"},\"evals\":[],\"jsHooks\":[]}</script>\n```\n:::\n:::\n\n\n## **Smooth** Calibration **âš–ï¸** {.smaller}\n\n::: columns\n::: {.column width=\"40%\"}\nA different approach is to use a smoothing algorithm, in {rtichoke} I use *gam* for large samples and *lowess* for small samples.\n:::\n\n::: {.column width=\"60%\"}\n\n::: {.cell}\n::: {.cell-output-display}\n```{=html}\n<div id=\"htmlwidget-f56b2ba8fe7b9189bac0\" style=\"width:500px;height:500px;\" class=\"plotly html-widget\"></div>\n<script type=\"application/json\" data-for=\"htmlwidget-f56b2ba8fe7b9189bac0\">{\"x\":{\"data\":[{\"x\":[0,1],\"y\":[0,1],\"hovertemplate\":[\"<b>%{xaxis.title.text}:<\\/b> %{x:.2f}<br><b>%{yaxis.title.text}:<\\/b> %{y:.2f}<extra><\\/extra>\",\"<b>%{xaxis.title.text}:<\\/b> %{x:.2f}<br><b>%{yaxis.title.text}:<\\/b> %{y:.2f}<extra><\\/extra>\"],\"type\":\"scatter\",\"mode\":\"lines\",\"name\":\"reference\",\"marker\":{\"color\":\"rgba(190,190,190,1)\",\"line\":{\"color\":\"rgba(190,190,190,1)\"}},\"textfont\":{\"color\":\"rgba(190,190,190,1)\"},\"error_y\":{\"color\":\"rgba(190,190,190,1)\"},\"error_x\":{\"color\":\"rgba(190,190,190,1)\"},\"line\":{\"color\":\"rgba(190,190,190,1)\"},\"xaxis\":\"x\",\"yaxis\":\"y\",\"frame\":null},{\"x\":[0.01,0.02,0.03,0.04,0.05,0.06,0.07,0.08,0.09,0.1,0.11,0.12,0.13,0.14,0.15,0.16,0.17,0.18,0.19,0.2,0.21,0.22,0.23,0.24,0.25,0.26,0.27,0.28,0.29,0.3,0.31,0.32,0.33,0.34,0.35,0.36,0.37,0.38,0.39,0.4,0.41,0.42,0.43,0.44,0.45,0.46,0.47,0.48,0.49,0.5,0.51,0.52,0.53,0.54,0.55,0.56,0.57,0.58,0.59,0.6,0.61,0.62,0.63,0.64,0.65,0.66,0.67,0.68,0.69,0.7,0.71,0.72,0.73,0.74,0.75,0.76,0.77,0.78,0.79,0.8,0.81,0.82,0.83,0.84,0.85,0.86,0.87,0.88,0.89,0.9,0.91,0.92,0.93,0.94,0.95,0.96,0.97,0.98,0.99],\"y\":[0.00856505413372012,0.0163324553250164,0.0240040268388449,0.0316130271204156,0.0390842149987235,0.0465554028770314,0.0538503816691293,0.0610867109720325,0.0683230402749356,0.0755593695778388,0.0826606754609369,0.0897532965950382,0.0968459177291396,0.103938538863241,0.111031159997342,0.118144737096453,0.125343744985834,0.132542752875215,0.139741760764596,0.146940768653977,0.154139776543358,0.161338784432739,0.16853779232212,0.176527102585517,0.199733829521711,0.222940556457905,0.246147283394098,0.269354010330292,0.292560737266485,0.315767464202679,0.338974191138872,0.362180918075066,0.385387645011259,0.408594371947453,0.426367902101635,0.436820997898237,0.44727409369484,0.457727189491442,0.468180285288044,0.478633381084647,0.489086476881249,0.499539572677851,0.509992668474453,0.520445764271056,0.530898860067658,0.54135195586426,0.551794243173705,0.558082151698707,0.564370060223709,0.570657968748711,0.576945877273714,0.583233785798716,0.589521694323718,0.59580960284872,0.602097511373722,0.608385419898724,0.614673328423727,0.620961236948729,0.627249145473731,0.634028758654322,0.642830379474573,0.651632000294824,0.660433621115075,0.669235241935327,0.678036862755578,0.686838483575829,0.695640104396081,0.704441725216332,0.713243346036583,0.722044966856834,0.730846587677086,0.739398045046563,0.747782726949977,0.756167408853391,0.764552090756805,0.772936772660219,0.781321454563633,0.789706136467047,0.798090818370461,0.806475500273875,0.814746592645741,0.822712978393655,0.830679364141569,0.838645749889483,0.846612135637397,0.854578521385311,0.862544907133225,0.870378724872695,0.878053752592451,0.885728780312207,0.893403808031963,0.901078835751719,0.908611885093658,0.916112939807655,0.923613994521651,0.931039470824949,0.93844722277245,0.945808018891759,0.953141772344014],\"hovertemplate\":[\"<b>%{xaxis.title.text}:<\\/b> %{x:.2f}<br><b>%{yaxis.title.text}:<\\/b> %{y:.2f}<extra><\\/extra>\",\"<b>%{xaxis.title.text}:<\\/b> %{x:.2f}<br><b>%{yaxis.title.text}:<\\/b> %{y:.2f}<extra><\\/extra>\",\"<b>%{xaxis.title.text}:<\\/b> %{x:.2f}<br><b>%{yaxis.title.text}:<\\/b> %{y:.2f}<extra><\\/extra>\",\"<b>%{xaxis.title.text}:<\\/b> %{x:.2f}<br><b>%{yaxis.title.text}:<\\/b> %{y:.2f}<extra><\\/extra>\",\"<b>%{xaxis.title.text}:<\\/b> %{x:.2f}<br><b>%{yaxis.title.text}:<\\/b> %{y:.2f}<extra><\\/extra>\",\"<b>%{xaxis.title.text}:<\\/b> %{x:.2f}<br><b>%{yaxis.title.text}:<\\/b> %{y:.2f}<extra><\\/extra>\",\"<b>%{xaxis.title.text}:<\\/b> %{x:.2f}<br><b>%{yaxis.title.text}:<\\/b> %{y:.2f}<extra><\\/extra>\",\"<b>%{xaxis.title.text}:<\\/b> %{x:.2f}<br><b>%{yaxis.title.text}:<\\/b> %{y:.2f}<extra><\\/extra>\",\"<b>%{xaxis.title.text}:<\\/b> %{x:.2f}<br><b>%{yaxis.title.text}:<\\/b> %{y:.2f}<extra><\\/extra>\",\"<b>%{xaxis.title.text}:<\\/b> %{x:.2f}<br><b>%{yaxis.title.text}:<\\/b> %{y:.2f}<extra><\\/extra>\",\"<b>%{xaxis.title.text}:<\\/b> %{x:.2f}<br><b>%{yaxis.title.text}:<\\/b> %{y:.2f}<extra><\\/extra>\",\"<b>%{xaxis.title.text}:<\\/b> %{x:.2f}<br><b>%{yaxis.title.text}:<\\/b> %{y:.2f}<extra><\\/extra>\",\"<b>%{xaxis.title.text}:<\\/b> %{x:.2f}<br><b>%{yaxis.title.text}:<\\/b> %{y:.2f}<extra><\\/extra>\",\"<b>%{xaxis.title.text}:<\\/b> %{x:.2f}<br><b>%{yaxis.title.text}:<\\/b> %{y:.2f}<extra><\\/extra>\",\"<b>%{xaxis.title.text}:<\\/b> %{x:.2f}<br><b>%{yaxis.title.text}:<\\/b> %{y:.2f}<extra><\\/extra>\",\"<b>%{xaxis.title.text}:<\\/b> %{x:.2f}<br><b>%{yaxis.title.text}:<\\/b> %{y:.2f}<extra><\\/extra>\",\"<b>%{xaxis.title.text}:<\\/b> %{x:.2f}<br><b>%{yaxis.title.text}:<\\/b> %{y:.2f}<extra><\\/extra>\",\"<b>%{xaxis.title.text}:<\\/b> %{x:.2f}<br><b>%{yaxis.title.text}:<\\/b> %{y:.2f}<extra><\\/extra>\",\"<b>%{xaxis.title.text}:<\\/b> %{x:.2f}<br><b>%{yaxis.title.text}:<\\/b> %{y:.2f}<extra><\\/extra>\",\"<b>%{xaxis.title.text}:<\\/b> %{x:.2f}<br><b>%{yaxis.title.text}:<\\/b> %{y:.2f}<extra><\\/extra>\",\"<b>%{xaxis.title.text}:<\\/b> %{x:.2f}<br><b>%{yaxis.title.text}:<\\/b> %{y:.2f}<extra><\\/extra>\",\"<b>%{xaxis.title.text}:<\\/b> %{x:.2f}<br><b>%{yaxis.title.text}:<\\/b> %{y:.2f}<extra><\\/extra>\",\"<b>%{xaxis.title.text}:<\\/b> %{x:.2f}<br><b>%{yaxis.title.text}:<\\/b> %{y:.2f}<extra><\\/extra>\",\"<b>%{xaxis.title.text}:<\\/b> %{x:.2f}<br><b>%{yaxis.title.text}:<\\/b> %{y:.2f}<extra><\\/extra>\",\"<b>%{xaxis.title.text}:<\\/b> %{x:.2f}<br><b>%{yaxis.title.text}:<\\/b> %{y:.2f}<extra><\\/extra>\",\"<b>%{xaxis.title.text}:<\\/b> %{x:.2f}<br><b>%{yaxis.title.text}:<\\/b> %{y:.2f}<extra><\\/extra>\",\"<b>%{xaxis.title.text}:<\\/b> %{x:.2f}<br><b>%{yaxis.title.text}:<\\/b> %{y:.2f}<extra><\\/extra>\",\"<b>%{xaxis.title.text}:<\\/b> %{x:.2f}<br><b>%{yaxis.title.text}:<\\/b> %{y:.2f}<extra><\\/extra>\",\"<b>%{xaxis.title.text}:<\\/b> %{x:.2f}<br><b>%{yaxis.title.text}:<\\/b> %{y:.2f}<extra><\\/extra>\",\"<b>%{xaxis.title.text}:<\\/b> %{x:.2f}<br><b>%{yaxis.title.text}:<\\/b> %{y:.2f}<extra><\\/extra>\",\"<b>%{xaxis.title.text}:<\\/b> %{x:.2f}<br><b>%{yaxis.title.text}:<\\/b> %{y:.2f}<extra><\\/extra>\",\"<b>%{xaxis.title.text}:<\\/b> %{x:.2f}<br><b>%{yaxis.title.text}:<\\/b> %{y:.2f}<extra><\\/extra>\",\"<b>%{xaxis.title.text}:<\\/b> %{x:.2f}<br><b>%{yaxis.title.text}:<\\/b> %{y:.2f}<extra><\\/extra>\",\"<b>%{xaxis.title.text}:<\\/b> %{x:.2f}<br><b>%{yaxis.title.text}:<\\/b> %{y:.2f}<extra><\\/extra>\",\"<b>%{xaxis.title.text}:<\\/b> %{x:.2f}<br><b>%{yaxis.title.text}:<\\/b> %{y:.2f}<extra><\\/extra>\",\"<b>%{xaxis.title.text}:<\\/b> %{x:.2f}<br><b>%{yaxis.title.text}:<\\/b> %{y:.2f}<extra><\\/extra>\",\"<b>%{xaxis.title.text}:<\\/b> %{x:.2f}<br><b>%{yaxis.title.text}:<\\/b> %{y:.2f}<extra><\\/extra>\",\"<b>%{xaxis.title.text}:<\\/b> %{x:.2f}<br><b>%{yaxis.title.text}:<\\/b> %{y:.2f}<extra><\\/extra>\",\"<b>%{xaxis.title.text}:<\\/b> %{x:.2f}<br><b>%{yaxis.title.text}:<\\/b> %{y:.2f}<extra><\\/extra>\",\"<b>%{xaxis.title.text}:<\\/b> %{x:.2f}<br><b>%{yaxis.title.text}:<\\/b> %{y:.2f}<extra><\\/extra>\",\"<b>%{xaxis.title.text}:<\\/b> %{x:.2f}<br><b>%{yaxis.title.text}:<\\/b> %{y:.2f}<extra><\\/extra>\",\"<b>%{xaxis.title.text}:<\\/b> %{x:.2f}<br><b>%{yaxis.title.text}:<\\/b> %{y:.2f}<extra><\\/extra>\",\"<b>%{xaxis.title.text}:<\\/b> %{x:.2f}<br><b>%{yaxis.title.text}:<\\/b> %{y:.2f}<extra><\\/extra>\",\"<b>%{xaxis.title.text}:<\\/b> %{x:.2f}<br><b>%{yaxis.title.text}:<\\/b> %{y:.2f}<extra><\\/extra>\",\"<b>%{xaxis.title.text}:<\\/b> %{x:.2f}<br><b>%{yaxis.title.text}:<\\/b> %{y:.2f}<extra><\\/extra>\",\"<b>%{xaxis.title.text}:<\\/b> %{x:.2f}<br><b>%{yaxis.title.text}:<\\/b> %{y:.2f}<extra><\\/extra>\",\"<b>%{xaxis.title.text}:<\\/b> %{x:.2f}<br><b>%{yaxis.title.text}:<\\/b> %{y:.2f}<extra><\\/extra>\",\"<b>%{xaxis.title.text}:<\\/b> %{x:.2f}<br><b>%{yaxis.title.text}:<\\/b> %{y:.2f}<extra><\\/extra>\",\"<b>%{xaxis.title.text}:<\\/b> %{x:.2f}<br><b>%{yaxis.title.text}:<\\/b> %{y:.2f}<extra><\\/extra>\",\"<b>%{xaxis.title.text}:<\\/b> %{x:.2f}<br><b>%{yaxis.title.text}:<\\/b> %{y:.2f}<extra><\\/extra>\",\"<b>%{xaxis.title.text}:<\\/b> %{x:.2f}<br><b>%{yaxis.title.text}:<\\/b> %{y:.2f}<extra><\\/extra>\",\"<b>%{xaxis.title.text}:<\\/b> %{x:.2f}<br><b>%{yaxis.title.text}:<\\/b> %{y:.2f}<extra><\\/extra>\",\"<b>%{xaxis.title.text}:<\\/b> %{x:.2f}<br><b>%{yaxis.title.text}:<\\/b> %{y:.2f}<extra><\\/extra>\",\"<b>%{xaxis.title.text}:<\\/b> %{x:.2f}<br><b>%{yaxis.title.text}:<\\/b> %{y:.2f}<extra><\\/extra>\",\"<b>%{xaxis.title.text}:<\\/b> %{x:.2f}<br><b>%{yaxis.title.text}:<\\/b> %{y:.2f}<extra><\\/extra>\",\"<b>%{xaxis.title.text}:<\\/b> %{x:.2f}<br><b>%{yaxis.title.text}:<\\/b> %{y:.2f}<extra><\\/extra>\",\"<b>%{xaxis.title.text}:<\\/b> %{x:.2f}<br><b>%{yaxis.title.text}:<\\/b> %{y:.2f}<extra><\\/extra>\",\"<b>%{xaxis.title.text}:<\\/b> %{x:.2f}<br><b>%{yaxis.title.text}:<\\/b> %{y:.2f}<extra><\\/extra>\",\"<b>%{xaxis.title.text}:<\\/b> %{x:.2f}<br><b>%{yaxis.title.text}:<\\/b> %{y:.2f}<extra><\\/extra>\",\"<b>%{xaxis.title.text}:<\\/b> %{x:.2f}<br><b>%{yaxis.title.text}:<\\/b> %{y:.2f}<extra><\\/extra>\",\"<b>%{xaxis.title.text}:<\\/b> %{x:.2f}<br><b>%{yaxis.title.text}:<\\/b> %{y:.2f}<extra><\\/extra>\",\"<b>%{xaxis.title.text}:<\\/b> %{x:.2f}<br><b>%{yaxis.title.text}:<\\/b> %{y:.2f}<extra><\\/extra>\",\"<b>%{xaxis.title.text}:<\\/b> %{x:.2f}<br><b>%{yaxis.title.text}:<\\/b> %{y:.2f}<extra><\\/extra>\",\"<b>%{xaxis.title.text}:<\\/b> %{x:.2f}<br><b>%{yaxis.title.text}:<\\/b> %{y:.2f}<extra><\\/extra>\",\"<b>%{xaxis.title.text}:<\\/b> %{x:.2f}<br><b>%{yaxis.title.text}:<\\/b> %{y:.2f}<extra><\\/extra>\",\"<b>%{xaxis.title.text}:<\\/b> %{x:.2f}<br><b>%{yaxis.title.text}:<\\/b> %{y:.2f}<extra><\\/extra>\",\"<b>%{xaxis.title.text}:<\\/b> %{x:.2f}<br><b>%{yaxis.title.text}:<\\/b> %{y:.2f}<extra><\\/extra>\",\"<b>%{xaxis.title.text}:<\\/b> %{x:.2f}<br><b>%{yaxis.title.text}:<\\/b> %{y:.2f}<extra><\\/extra>\",\"<b>%{xaxis.title.text}:<\\/b> %{x:.2f}<br><b>%{yaxis.title.text}:<\\/b> %{y:.2f}<extra><\\/extra>\",\"<b>%{xaxis.title.text}:<\\/b> %{x:.2f}<br><b>%{yaxis.title.text}:<\\/b> %{y:.2f}<extra><\\/extra>\",\"<b>%{xaxis.title.text}:<\\/b> %{x:.2f}<br><b>%{yaxis.title.text}:<\\/b> %{y:.2f}<extra><\\/extra>\",\"<b>%{xaxis.title.text}:<\\/b> %{x:.2f}<br><b>%{yaxis.title.text}:<\\/b> %{y:.2f}<extra><\\/extra>\",\"<b>%{xaxis.title.text}:<\\/b> %{x:.2f}<br><b>%{yaxis.title.text}:<\\/b> %{y:.2f}<extra><\\/extra>\",\"<b>%{xaxis.title.text}:<\\/b> %{x:.2f}<br><b>%{yaxis.title.text}:<\\/b> %{y:.2f}<extra><\\/extra>\",\"<b>%{xaxis.title.text}:<\\/b> %{x:.2f}<br><b>%{yaxis.title.text}:<\\/b> %{y:.2f}<extra><\\/extra>\",\"<b>%{xaxis.title.text}:<\\/b> %{x:.2f}<br><b>%{yaxis.title.text}:<\\/b> %{y:.2f}<extra><\\/extra>\",\"<b>%{xaxis.title.text}:<\\/b> %{x:.2f}<br><b>%{yaxis.title.text}:<\\/b> %{y:.2f}<extra><\\/extra>\",\"<b>%{xaxis.title.text}:<\\/b> %{x:.2f}<br><b>%{yaxis.title.text}:<\\/b> %{y:.2f}<extra><\\/extra>\",\"<b>%{xaxis.title.text}:<\\/b> %{x:.2f}<br><b>%{yaxis.title.text}:<\\/b> %{y:.2f}<extra><\\/extra>\",\"<b>%{xaxis.title.text}:<\\/b> %{x:.2f}<br><b>%{yaxis.title.text}:<\\/b> %{y:.2f}<extra><\\/extra>\",\"<b>%{xaxis.title.text}:<\\/b> %{x:.2f}<br><b>%{yaxis.title.text}:<\\/b> %{y:.2f}<extra><\\/extra>\",\"<b>%{xaxis.title.text}:<\\/b> %{x:.2f}<br><b>%{yaxis.title.text}:<\\/b> %{y:.2f}<extra><\\/extra>\",\"<b>%{xaxis.title.text}:<\\/b> %{x:.2f}<br><b>%{yaxis.title.text}:<\\/b> %{y:.2f}<extra><\\/extra>\",\"<b>%{xaxis.title.text}:<\\/b> %{x:.2f}<br><b>%{yaxis.title.text}:<\\/b> %{y:.2f}<extra><\\/extra>\",\"<b>%{xaxis.title.text}:<\\/b> %{x:.2f}<br><b>%{yaxis.title.text}:<\\/b> %{y:.2f}<extra><\\/extra>\",\"<b>%{xaxis.title.text}:<\\/b> %{x:.2f}<br><b>%{yaxis.title.text}:<\\/b> %{y:.2f}<extra><\\/extra>\",\"<b>%{xaxis.title.text}:<\\/b> %{x:.2f}<br><b>%{yaxis.title.text}:<\\/b> %{y:.2f}<extra><\\/extra>\",\"<b>%{xaxis.title.text}:<\\/b> %{x:.2f}<br><b>%{yaxis.title.text}:<\\/b> %{y:.2f}<extra><\\/extra>\",\"<b>%{xaxis.title.text}:<\\/b> %{x:.2f}<br><b>%{yaxis.title.text}:<\\/b> %{y:.2f}<extra><\\/extra>\",\"<b>%{xaxis.title.text}:<\\/b> %{x:.2f}<br><b>%{yaxis.title.text}:<\\/b> %{y:.2f}<extra><\\/extra>\",\"<b>%{xaxis.title.text}:<\\/b> %{x:.2f}<br><b>%{yaxis.title.text}:<\\/b> %{y:.2f}<extra><\\/extra>\",\"<b>%{xaxis.title.text}:<\\/b> %{x:.2f}<br><b>%{yaxis.title.text}:<\\/b> %{y:.2f}<extra><\\/extra>\",\"<b>%{xaxis.title.text}:<\\/b> %{x:.2f}<br><b>%{yaxis.title.text}:<\\/b> %{y:.2f}<extra><\\/extra>\",\"<b>%{xaxis.title.text}:<\\/b> %{x:.2f}<br><b>%{yaxis.title.text}:<\\/b> %{y:.2f}<extra><\\/extra>\",\"<b>%{xaxis.title.text}:<\\/b> %{x:.2f}<br><b>%{yaxis.title.text}:<\\/b> %{y:.2f}<extra><\\/extra>\",\"<b>%{xaxis.title.text}:<\\/b> %{x:.2f}<br><b>%{yaxis.title.text}:<\\/b> %{y:.2f}<extra><\\/extra>\",\"<b>%{xaxis.title.text}:<\\/b> %{x:.2f}<br><b>%{yaxis.title.text}:<\\/b> %{y:.2f}<extra><\\/extra>\",\"<b>%{xaxis.title.text}:<\\/b> %{x:.2f}<br><b>%{yaxis.title.text}:<\\/b> %{y:.2f}<extra><\\/extra>\",\"<b>%{xaxis.title.text}:<\\/b> %{x:.2f}<br><b>%{yaxis.title.text}:<\\/b> %{y:.2f}<extra><\\/extra>\"],\"type\":\"scatter\",\"mode\":\"lines\",\"name\":\"model 1\",\"marker\":{\"color\":\"rgba(0,0,0,1)\",\"line\":{\"color\":\"rgba(0,0,0,1)\"}},\"textfont\":{\"color\":\"rgba(0,0,0,1)\"},\"error_y\":{\"color\":\"rgba(0,0,0,1)\"},\"error_x\":{\"color\":\"rgba(0,0,0,1)\"},\"line\":{\"color\":\"rgba(0,0,0,1)\"},\"xaxis\":\"x\",\"yaxis\":\"y\",\"frame\":null},{\"x\":[0.005,0.015,0.025,0.035,0.045,0.055,0.065,0.075,0.085,0.095,0.105,0.115,0.125,0.135,0.145,0.155,0.165,0.175,0.185,0.195,0.205,0.215,0.225,0.235,0.245,0.255,0.265,0.275,0.285,0.295,0.305,0.315,0.325,0.335,0.345,0.355,0.365,0.375,0.385,0.395,0.405,0.415,0.425,0.435,0.445,0.455,0.465,0.475,0.485,0.495,0.505,0.515,0.525,0.535,0.545,0.555,0.565,0.575,0.585,0.595,0.605,0.615,0.625,0.635,0.645,0.655,0.665,0.675,0.685,0.695,0.705,0.715,0.725,0.735,0.745,0.755,0.765,0.775,0.785,0.795,0.805,0.815,0.825,0.835,0.845,0.855,0.865,0.875,0.885,0.895,0.905,0.915,0.925,0.935,0.945,0.955,0.965,0.975,0.985,0.995],\"y\":[51,4,6,6,0,0,3,0,0,0,7,0,0,0,0,8,0,0,0,0,0,0,0,6,0,0,0,0,0,0,0,0,0,0,7,0,0,0,0,0,0,0,0,0,0,0,6,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,4,0,0,0,0,0,0,0,0,9,0,0,0,0,0,0,10,0,0,0,0,6,0,0,5,0,2,5,4],\"type\":\"bar\",\"width\":[0.01,0.01,0.01,0.01,0.01,0.01,0.01,0.01,0.01,0.01,0.01,0.01,0.01,0.01,0.01,0.01,0.01,0.01,0.01,0.01,0.01,0.01,0.01,0.01,0.01,0.01,0.01,0.01,0.01,0.01,0.01,0.01,0.01,0.01,0.01,0.01,0.01,0.01,0.01,0.01,0.01,0.01,0.01,0.01,0.01,0.01,0.01,0.01,0.01,0.01,0.01,0.01,0.01,0.01,0.01,0.01,0.01,0.01,0.01,0.01,0.01,0.01,0.01,0.01,0.01,0.01,0.01,0.01,0.01,0.01,0.01,0.01,0.01,0.01,0.01,0.01,0.01,0.01,0.01,0.01,0.01,0.01,0.01,0.01,0.01,0.01,0.01,0.01,0.01,0.01,0.01,0.01,0.01,0.01,0.01,0.01,0.01,0.01,0.01,0.01],\"text\":[\"51 observations in [0,0.01]\",\"4 observations in (0.01,0.02]\",\"6 observations in (0.02,0.03]\",\"6 observations in (0.03,0.04]\",\"0 observations in (0.04,0.05]\",\"0 observations in (0.05,0.06]\",\"3 observations in (0.06,0.07]\",\"0 observations in (0.07,0.08]\",\"0 observations in (0.08,0.09]\",\"0 observations in (0.09,0.1]\",\"7 observations in (0.1,0.11]\",\"0 observations in (0.11,0.12]\",\"0 observations in (0.12,0.13]\",\"0 observations in (0.13,0.14]\",\"0 observations in (0.14,0.15]\",\"8 observations in (0.15,0.16]\",\"0 observations in (0.16,0.17]\",\"0 observations in (0.17,0.18]\",\"0 observations in (0.18,0.19]\",\"0 observations in (0.19,0.2]\",\"0 observations in (0.2,0.21]\",\"0 observations in (0.21,0.22]\",\"0 observations in (0.22,0.23]\",\"6 observations in (0.23,0.24]\",\"0 observations in (0.24,0.25]\",\"0 observations in (0.25,0.26]\",\"0 observations in (0.26,0.27]\",\"0 observations in (0.27,0.28]\",\"0 observations in (0.28,0.29]\",\"0 observations in (0.29,0.3]\",\"0 observations in (0.3,0.31]\",\"0 observations in (0.31,0.32]\",\"0 observations in (0.32,0.33]\",\"0 observations in (0.33,0.34]\",\"7 observations in (0.34,0.35]\",\"0 observations in (0.35,0.36]\",\"0 observations in (0.36,0.37]\",\"0 observations in (0.37,0.38]\",\"0 observations in (0.38,0.39]\",\"0 observations in (0.39,0.4]\",\"0 observations in (0.4,0.41]\",\"0 observations in (0.41,0.42]\",\"0 observations in (0.42,0.43]\",\"0 observations in (0.43,0.44]\",\"0 observations in (0.44,0.45]\",\"0 observations in (0.45,0.46]\",\"6 observations in (0.46,0.47]\",\"0 observations in (0.47,0.48]\",\"0 observations in (0.48,0.49]\",\"0 observations in (0.49,0.5]\",\"0 observations in (0.5,0.51]\",\"0 observations in (0.51,0.52]\",\"0 observations in (0.52,0.53]\",\"0 observations in (0.53,0.54]\",\"0 observations in (0.54,0.55]\",\"0 observations in (0.55,0.56]\",\"0 observations in (0.56,0.57]\",\"0 observations in (0.57,0.58]\",\"0 observations in (0.58,0.59]\",\"1 observations in (0.59,0.6]\",\"0 observations in (0.6,0.61]\",\"0 observations in (0.61,0.62]\",\"0 observations in (0.62,0.63]\",\"0 observations in (0.63,0.64]\",\"0 observations in (0.64,0.65]\",\"0 observations in (0.65,0.66]\",\"0 observations in (0.66,0.67]\",\"0 observations in (0.67,0.68]\",\"0 observations in (0.68,0.69]\",\"0 observations in (0.69,0.7]\",\"0 observations in (0.7,0.71]\",\"4 observations in (0.71,0.72]\",\"0 observations in (0.72,0.73]\",\"0 observations in (0.73,0.74]\",\"0 observations in (0.74,0.75]\",\"0 observations in (0.75,0.76]\",\"0 observations in (0.76,0.77]\",\"0 observations in (0.77,0.78]\",\"0 observations in (0.78,0.79]\",\"0 observations in (0.79,0.8]\",\"9 observations in (0.8,0.81]\",\"0 observations in (0.81,0.82]\",\"0 observations in (0.82,0.83]\",\"0 observations in (0.83,0.84]\",\"0 observations in (0.84,0.85]\",\"0 observations in (0.85,0.86]\",\"0 observations in (0.86,0.87]\",\"10 observations in (0.87,0.88]\",\"0 observations in (0.88,0.89]\",\"0 observations in (0.89,0.9]\",\"0 observations in (0.9,0.91]\",\"0 observations in (0.91,0.92]\",\"6 observations in (0.92,0.93]\",\"0 observations in (0.93,0.94]\",\"0 observations in (0.94,0.95]\",\"5 observations in (0.95,0.96]\",\"0 observations in (0.96,0.97]\",\"2 observations in (0.97,0.98]\",\"5 observations in (0.98,0.99]\",\"4 observations in (0.99,1]\"],\"hoverinfo\":[\"text\",\"text\",\"text\",\"text\",\"text\",\"text\",\"text\",\"text\",\"text\",\"text\",\"text\",\"text\",\"text\",\"text\",\"text\",\"text\",\"text\",\"text\",\"text\",\"text\",\"text\",\"text\",\"text\",\"text\",\"text\",\"text\",\"text\",\"text\",\"text\",\"text\",\"text\",\"text\",\"text\",\"text\",\"text\",\"text\",\"text\",\"text\",\"text\",\"text\",\"text\",\"text\",\"text\",\"text\",\"text\",\"text\",\"text\",\"text\",\"text\",\"text\",\"text\",\"text\",\"text\",\"text\",\"text\",\"text\",\"text\",\"text\",\"text\",\"text\",\"text\",\"text\",\"text\",\"text\",\"text\",\"text\",\"text\",\"text\",\"text\",\"text\",\"text\",\"text\",\"text\",\"text\",\"text\",\"text\",\"text\",\"text\",\"text\",\"text\",\"text\",\"text\",\"text\",\"text\",\"text\",\"text\",\"text\",\"text\",\"text\",\"text\",\"text\",\"text\",\"text\",\"text\",\"text\",\"text\",\"text\",\"text\",\"text\",\"text\"],\"textposition\":[\"none\",\"none\",\"none\",\"none\",\"none\",\"none\",\"none\",\"none\",\"none\",\"none\",\"none\",\"none\",\"none\",\"none\",\"none\",\"none\",\"none\",\"none\",\"none\",\"none\",\"none\",\"none\",\"none\",\"none\",\"none\",\"none\",\"none\",\"none\",\"none\",\"none\",\"none\",\"none\",\"none\",\"none\",\"none\",\"none\",\"none\",\"none\",\"none\",\"none\",\"none\",\"none\",\"none\",\"none\",\"none\",\"none\",\"none\",\"none\",\"none\",\"none\",\"none\",\"none\",\"none\",\"none\",\"none\",\"none\",\"none\",\"none\",\"none\",\"none\",\"none\",\"none\",\"none\",\"none\",\"none\",\"none\",\"none\",\"none\",\"none\",\"none\",\"none\",\"none\",\"none\",\"none\",\"none\",\"none\",\"none\",\"none\",\"none\",\"none\",\"none\",\"none\",\"none\",\"none\",\"none\",\"none\",\"none\",\"none\",\"none\",\"none\",\"none\",\"none\",\"none\",\"none\",\"none\",\"none\",\"none\",\"none\",\"none\",\"none\"],\"marker\":{\"color\":\"rgba(89,89,89,1)\",\"line\":{\"color\":\"rgba(89,89,89,1)\"}},\"textfont\":{\"color\":\"rgba(89,89,89,1)\"},\"error_y\":{\"color\":\"rgba(89,89,89,1)\"},\"error_x\":{\"color\":\"rgba(89,89,89,1)\"},\"xaxis\":\"x\",\"yaxis\":\"y2\",\"frame\":null}],\"layout\":{\"xaxis\":{\"domain\":[0,1],\"automargin\":true,\"range\":[-0.05,1.05],\"showgrid\":false,\"title\":\"Predicted\",\"anchor\":\"y2\"},\"yaxis2\":{\"domain\":[0,0.18],\"automargin\":true,\"showgrid\":false,\"anchor\":\"x\"},\"yaxis\":{\"domain\":[0.22,1],\"automargin\":true,\"range\":[-0.05,1.05],\"showgrid\":false,\"anchor\":\"x\",\"title\":\"Observed\"},\"annotations\":[],\"shapes\":[],\"images\":[],\"width\":500,\"height\":500,\"margin\":{\"b\":40,\"l\":60,\"t\":25,\"r\":10},\"showlegend\":false,\"hovermode\":\"closest\",\"barmode\":\"overlay\",\"plot_bgcolor\":\"rgba(0, 0, 0, 0)\",\"paper_bgcolor\":\"rgba(0, 0, 0, 0)\",\"fig_bgcolor\":\"rgba(0, 0, 0, 0)\"},\"attrs\":{\"1d304fbf61f4\":{\"x\":{},\"y\":{},\"hovertemplate\":\"<b>%{xaxis.title.text}:<\\/b> %{x:.2f}<br><b>%{yaxis.title.text}:<\\/b> %{y:.2f}<extra><\\/extra>\",\"color\":{},\"colors\":[\"grey\",\"black\"],\"alpha_stroke\":1,\"sizes\":[10,100],\"spans\":[1,20],\"type\":\"scatter\",\"mode\":\"lines\",\"inherit\":true},\"1d30434a2ecc\":{\"alpha_stroke\":1,\"sizes\":[10,100],\"spans\":[1,20],\"x\":{},\"y\":{},\"type\":\"bar\",\"width\":0.01,\"color\":[\"grey35\"],\"text\":{},\"hoverinfo\":\"text\",\"textposition\":\"none\",\"inherit\":true}},\"source\":\"A\",\"config\":{\"modeBarButtonsToAdd\":[\"hoverclosest\",\"hovercompare\"],\"showSendToCloud\":false,\"displayModeBar\":false},\"highlight\":{\"on\":\"plotly_click\",\"persistent\":false,\"dynamic\":false,\"selectize\":false,\"opacityDim\":0.2,\"selected\":{\"opacity\":1},\"debounce\":0},\"subplot\":true,\"shinyEvents\":[\"plotly_hover\",\"plotly_click\",\"plotly_selected\",\"plotly_relayout\",\"plotly_brushed\",\"plotly_brushing\",\"plotly_clickannotation\",\"plotly_doubleclick\",\"plotly_deselect\",\"plotly_afterplot\",\"plotly_sunburstclick\"],\"base_url\":\"https://plot.ly\"},\"evals\":[],\"jsHooks\":[]}</script>\n```\n:::\n:::\n\n:::\n:::\n\n## **Smooth** Calibration **âš–ï¸** {.smaller}\n\n::: columns\n::: {.column width=\"40%\"}\nIf you use smooth calibration, take a moment to explore the ranges of the curve! \n\nIt might look bad if you don't zoom-in to the reasonable range of estimated probabilities. That's why many times you might see Histograms or Rug-plots under the Calibration Curve.\n\n:::\n\n::: {.column width=\"60%\"}\n\n::: {.cell}\n::: {.cell-output-display}\n```{=html}\n<div id=\"htmlwidget-f9ee8247cbaeb547dfe7\" style=\"width:500px;height:500px;\" class=\"plotly html-widget\"></div>\n<script type=\"application/json\" data-for=\"htmlwidget-f9ee8247cbaeb547dfe7\">{\"x\":{\"data\":[{\"x\":[0,1],\"y\":[0,1],\"hovertemplate\":[\"<b>%{xaxis.title.text}:<\\/b> %{x:.2f}<br><b>%{yaxis.title.text}:<\\/b> %{y:.2f}<extra><\\/extra>\",\"<b>%{xaxis.title.text}:<\\/b> %{x:.2f}<br><b>%{yaxis.title.text}:<\\/b> %{y:.2f}<extra><\\/extra>\"],\"type\":\"scatter\",\"mode\":\"lines\",\"name\":\"reference\",\"marker\":{\"color\":\"rgba(190,190,190,1)\",\"line\":{\"color\":\"rgba(190,190,190,1)\"}},\"textfont\":{\"color\":\"rgba(190,190,190,1)\"},\"error_y\":{\"color\":\"rgba(190,190,190,1)\"},\"error_x\":{\"color\":\"rgba(190,190,190,1)\"},\"line\":{\"color\":\"rgba(190,190,190,1)\"},\"xaxis\":\"x\",\"yaxis\":\"y\",\"frame\":null},{\"x\":[0.09,0.1,0.11,0.12,0.13,0.14,0.15,0.16,0.17,0.18,0.19,0.2,0.21,0.22,0.23,0.24,0.25,0.26,0.27,0.28,0.29,0.3,0.31,0.32,0.33,0.34,0.35,0.36,0.37,0.38,0.39,0.4,0.41,0.42,0.43,0.44,0.45,0.46,0.47,0.48,0.49,0.5,0.51,0.52,0.53,0.54,0.55,0.56,0.57,0.58,0.59,0.6,0.61,0.62,0.63,0.64,0.65,0.66,0.67,0.68,0.69,0.7,0.71],\"y\":[0.0380488611424907,0.067579058896737,0.0975520356655913,0.128977517707331,0.161021539651453,0.184044004985487,0.189548282415039,0.183272320543753,0.177805864012094,0.176818104117712,0.171892204347666,0.149751311401516,0.126942636411508,0.138436153490403,0.164963107215816,0.196376680778968,0.232679942965928,0.271791696844748,0.294975727510229,0.288499787251163,0.282023846992097,0.275547906733031,0.269071966473965,0.262596026214898,0.256120085955832,0.249644145696766,0.2431682054377,0.236692265178634,0.230216324919567,0.223740384660501,0.217264444401435,0.210788504142369,0.204312563883303,0.197836623624237,0.19136068336517,0.184884743106104,0.178408802847038,0.171932862587972,0.165456922328906,0.158980982069839,0.152505041810773,0.146029101551707,0.139553161292641,0.133077221033575,0.126601280774509,0.120125340515442,0.113649400256376,0.10717345999731,0.100697519738244,0.0942215794791776,0.0877456392201114,0.0812696989610452,0.074793758701979,0.0683178184429128,0.0618418781838467,0.0553659379247805,0.0488899976657143,0.0424140574066481,0.0359381171475819,0.0294621768885157,0.0229862366294495,0.0165102963703834,0.0100343561113172],\"hovertemplate\":[\"<b>%{xaxis.title.text}:<\\/b> %{x:.2f}<br><b>%{yaxis.title.text}:<\\/b> %{y:.2f}<extra><\\/extra>\",\"<b>%{xaxis.title.text}:<\\/b> %{x:.2f}<br><b>%{yaxis.title.text}:<\\/b> %{y:.2f}<extra><\\/extra>\",\"<b>%{xaxis.title.text}:<\\/b> %{x:.2f}<br><b>%{yaxis.title.text}:<\\/b> %{y:.2f}<extra><\\/extra>\",\"<b>%{xaxis.title.text}:<\\/b> %{x:.2f}<br><b>%{yaxis.title.text}:<\\/b> %{y:.2f}<extra><\\/extra>\",\"<b>%{xaxis.title.text}:<\\/b> %{x:.2f}<br><b>%{yaxis.title.text}:<\\/b> %{y:.2f}<extra><\\/extra>\",\"<b>%{xaxis.title.text}:<\\/b> %{x:.2f}<br><b>%{yaxis.title.text}:<\\/b> %{y:.2f}<extra><\\/extra>\",\"<b>%{xaxis.title.text}:<\\/b> %{x:.2f}<br><b>%{yaxis.title.text}:<\\/b> %{y:.2f}<extra><\\/extra>\",\"<b>%{xaxis.title.text}:<\\/b> %{x:.2f}<br><b>%{yaxis.title.text}:<\\/b> %{y:.2f}<extra><\\/extra>\",\"<b>%{xaxis.title.text}:<\\/b> %{x:.2f}<br><b>%{yaxis.title.text}:<\\/b> %{y:.2f}<extra><\\/extra>\",\"<b>%{xaxis.title.text}:<\\/b> %{x:.2f}<br><b>%{yaxis.title.text}:<\\/b> %{y:.2f}<extra><\\/extra>\",\"<b>%{xaxis.title.text}:<\\/b> %{x:.2f}<br><b>%{yaxis.title.text}:<\\/b> %{y:.2f}<extra><\\/extra>\",\"<b>%{xaxis.title.text}:<\\/b> %{x:.2f}<br><b>%{yaxis.title.text}:<\\/b> %{y:.2f}<extra><\\/extra>\",\"<b>%{xaxis.title.text}:<\\/b> %{x:.2f}<br><b>%{yaxis.title.text}:<\\/b> %{y:.2f}<extra><\\/extra>\",\"<b>%{xaxis.title.text}:<\\/b> %{x:.2f}<br><b>%{yaxis.title.text}:<\\/b> %{y:.2f}<extra><\\/extra>\",\"<b>%{xaxis.title.text}:<\\/b> %{x:.2f}<br><b>%{yaxis.title.text}:<\\/b> %{y:.2f}<extra><\\/extra>\",\"<b>%{xaxis.title.text}:<\\/b> %{x:.2f}<br><b>%{yaxis.title.text}:<\\/b> %{y:.2f}<extra><\\/extra>\",\"<b>%{xaxis.title.text}:<\\/b> %{x:.2f}<br><b>%{yaxis.title.text}:<\\/b> %{y:.2f}<extra><\\/extra>\",\"<b>%{xaxis.title.text}:<\\/b> %{x:.2f}<br><b>%{yaxis.title.text}:<\\/b> %{y:.2f}<extra><\\/extra>\",\"<b>%{xaxis.title.text}:<\\/b> %{x:.2f}<br><b>%{yaxis.title.text}:<\\/b> %{y:.2f}<extra><\\/extra>\",\"<b>%{xaxis.title.text}:<\\/b> %{x:.2f}<br><b>%{yaxis.title.text}:<\\/b> %{y:.2f}<extra><\\/extra>\",\"<b>%{xaxis.title.text}:<\\/b> %{x:.2f}<br><b>%{yaxis.title.text}:<\\/b> %{y:.2f}<extra><\\/extra>\",\"<b>%{xaxis.title.text}:<\\/b> %{x:.2f}<br><b>%{yaxis.title.text}:<\\/b> %{y:.2f}<extra><\\/extra>\",\"<b>%{xaxis.title.text}:<\\/b> %{x:.2f}<br><b>%{yaxis.title.text}:<\\/b> %{y:.2f}<extra><\\/extra>\",\"<b>%{xaxis.title.text}:<\\/b> %{x:.2f}<br><b>%{yaxis.title.text}:<\\/b> %{y:.2f}<extra><\\/extra>\",\"<b>%{xaxis.title.text}:<\\/b> %{x:.2f}<br><b>%{yaxis.title.text}:<\\/b> %{y:.2f}<extra><\\/extra>\",\"<b>%{xaxis.title.text}:<\\/b> %{x:.2f}<br><b>%{yaxis.title.text}:<\\/b> %{y:.2f}<extra><\\/extra>\",\"<b>%{xaxis.title.text}:<\\/b> %{x:.2f}<br><b>%{yaxis.title.text}:<\\/b> %{y:.2f}<extra><\\/extra>\",\"<b>%{xaxis.title.text}:<\\/b> %{x:.2f}<br><b>%{yaxis.title.text}:<\\/b> %{y:.2f}<extra><\\/extra>\",\"<b>%{xaxis.title.text}:<\\/b> %{x:.2f}<br><b>%{yaxis.title.text}:<\\/b> %{y:.2f}<extra><\\/extra>\",\"<b>%{xaxis.title.text}:<\\/b> %{x:.2f}<br><b>%{yaxis.title.text}:<\\/b> %{y:.2f}<extra><\\/extra>\",\"<b>%{xaxis.title.text}:<\\/b> %{x:.2f}<br><b>%{yaxis.title.text}:<\\/b> %{y:.2f}<extra><\\/extra>\",\"<b>%{xaxis.title.text}:<\\/b> %{x:.2f}<br><b>%{yaxis.title.text}:<\\/b> %{y:.2f}<extra><\\/extra>\",\"<b>%{xaxis.title.text}:<\\/b> %{x:.2f}<br><b>%{yaxis.title.text}:<\\/b> %{y:.2f}<extra><\\/extra>\",\"<b>%{xaxis.title.text}:<\\/b> %{x:.2f}<br><b>%{yaxis.title.text}:<\\/b> %{y:.2f}<extra><\\/extra>\",\"<b>%{xaxis.title.text}:<\\/b> %{x:.2f}<br><b>%{yaxis.title.text}:<\\/b> %{y:.2f}<extra><\\/extra>\",\"<b>%{xaxis.title.text}:<\\/b> %{x:.2f}<br><b>%{yaxis.title.text}:<\\/b> %{y:.2f}<extra><\\/extra>\",\"<b>%{xaxis.title.text}:<\\/b> %{x:.2f}<br><b>%{yaxis.title.text}:<\\/b> %{y:.2f}<extra><\\/extra>\",\"<b>%{xaxis.title.text}:<\\/b> %{x:.2f}<br><b>%{yaxis.title.text}:<\\/b> %{y:.2f}<extra><\\/extra>\",\"<b>%{xaxis.title.text}:<\\/b> %{x:.2f}<br><b>%{yaxis.title.text}:<\\/b> %{y:.2f}<extra><\\/extra>\",\"<b>%{xaxis.title.text}:<\\/b> %{x:.2f}<br><b>%{yaxis.title.text}:<\\/b> %{y:.2f}<extra><\\/extra>\",\"<b>%{xaxis.title.text}:<\\/b> %{x:.2f}<br><b>%{yaxis.title.text}:<\\/b> %{y:.2f}<extra><\\/extra>\",\"<b>%{xaxis.title.text}:<\\/b> %{x:.2f}<br><b>%{yaxis.title.text}:<\\/b> %{y:.2f}<extra><\\/extra>\",\"<b>%{xaxis.title.text}:<\\/b> %{x:.2f}<br><b>%{yaxis.title.text}:<\\/b> %{y:.2f}<extra><\\/extra>\",\"<b>%{xaxis.title.text}:<\\/b> %{x:.2f}<br><b>%{yaxis.title.text}:<\\/b> %{y:.2f}<extra><\\/extra>\",\"<b>%{xaxis.title.text}:<\\/b> %{x:.2f}<br><b>%{yaxis.title.text}:<\\/b> %{y:.2f}<extra><\\/extra>\",\"<b>%{xaxis.title.text}:<\\/b> %{x:.2f}<br><b>%{yaxis.title.text}:<\\/b> %{y:.2f}<extra><\\/extra>\",\"<b>%{xaxis.title.text}:<\\/b> %{x:.2f}<br><b>%{yaxis.title.text}:<\\/b> %{y:.2f}<extra><\\/extra>\",\"<b>%{xaxis.title.text}:<\\/b> %{x:.2f}<br><b>%{yaxis.title.text}:<\\/b> %{y:.2f}<extra><\\/extra>\",\"<b>%{xaxis.title.text}:<\\/b> %{x:.2f}<br><b>%{yaxis.title.text}:<\\/b> %{y:.2f}<extra><\\/extra>\",\"<b>%{xaxis.title.text}:<\\/b> %{x:.2f}<br><b>%{yaxis.title.text}:<\\/b> %{y:.2f}<extra><\\/extra>\",\"<b>%{xaxis.title.text}:<\\/b> %{x:.2f}<br><b>%{yaxis.title.text}:<\\/b> %{y:.2f}<extra><\\/extra>\",\"<b>%{xaxis.title.text}:<\\/b> %{x:.2f}<br><b>%{yaxis.title.text}:<\\/b> %{y:.2f}<extra><\\/extra>\",\"<b>%{xaxis.title.text}:<\\/b> %{x:.2f}<br><b>%{yaxis.title.text}:<\\/b> %{y:.2f}<extra><\\/extra>\",\"<b>%{xaxis.title.text}:<\\/b> %{x:.2f}<br><b>%{yaxis.title.text}:<\\/b> %{y:.2f}<extra><\\/extra>\",\"<b>%{xaxis.title.text}:<\\/b> %{x:.2f}<br><b>%{yaxis.title.text}:<\\/b> %{y:.2f}<extra><\\/extra>\",\"<b>%{xaxis.title.text}:<\\/b> %{x:.2f}<br><b>%{yaxis.title.text}:<\\/b> %{y:.2f}<extra><\\/extra>\",\"<b>%{xaxis.title.text}:<\\/b> %{x:.2f}<br><b>%{yaxis.title.text}:<\\/b> %{y:.2f}<extra><\\/extra>\",\"<b>%{xaxis.title.text}:<\\/b> %{x:.2f}<br><b>%{yaxis.title.text}:<\\/b> %{y:.2f}<extra><\\/extra>\",\"<b>%{xaxis.title.text}:<\\/b> %{x:.2f}<br><b>%{yaxis.title.text}:<\\/b> %{y:.2f}<extra><\\/extra>\",\"<b>%{xaxis.title.text}:<\\/b> %{x:.2f}<br><b>%{yaxis.title.text}:<\\/b> %{y:.2f}<extra><\\/extra>\",\"<b>%{xaxis.title.text}:<\\/b> %{x:.2f}<br><b>%{yaxis.title.text}:<\\/b> %{y:.2f}<extra><\\/extra>\",\"<b>%{xaxis.title.text}:<\\/b> %{x:.2f}<br><b>%{yaxis.title.text}:<\\/b> %{y:.2f}<extra><\\/extra>\",\"<b>%{xaxis.title.text}:<\\/b> %{x:.2f}<br><b>%{yaxis.title.text}:<\\/b> %{y:.2f}<extra><\\/extra>\"],\"type\":\"scatter\",\"mode\":\"lines\",\"name\":\"model 1\",\"marker\":{\"color\":\"rgba(0,0,0,1)\",\"line\":{\"color\":\"rgba(0,0,0,1)\"}},\"textfont\":{\"color\":\"rgba(0,0,0,1)\"},\"error_y\":{\"color\":\"rgba(0,0,0,1)\"},\"error_x\":{\"color\":\"rgba(0,0,0,1)\"},\"line\":{\"color\":\"rgba(0,0,0,1)\"},\"xaxis\":\"x\",\"yaxis\":\"y\",\"frame\":null},{\"x\":[0.005,0.015,0.025,0.035,0.045,0.055,0.065,0.075,0.085,0.095,0.105,0.115,0.125,0.135,0.145,0.155,0.165,0.175,0.185,0.195,0.205,0.215,0.225,0.235,0.245,0.255,0.265,0.275,0.285,0.295,0.305,0.315,0.325,0.335,0.345,0.355,0.365,0.375,0.385,0.395,0.405,0.415,0.425,0.435,0.445,0.455,0.465,0.475,0.485,0.495,0.505,0.515,0.525,0.535,0.545,0.555,0.565,0.575,0.585,0.595,0.605,0.615,0.625,0.635,0.645,0.655,0.665,0.675,0.685,0.695,0.705,0.715,0.725,0.735,0.745,0.755,0.765,0.775,0.785,0.795,0.805,0.815,0.825,0.835,0.845,0.855,0.865,0.875,0.885,0.895,0.905,0.915,0.925,0.935,0.945,0.955,0.965,0.975,0.985,0.995],\"y\":[0,0,0,0,0,0,0,0,3,2,3,2,0,3,1,4,2,0,2,2,3,3,0,3,4,2,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],\"type\":\"bar\",\"width\":[0.01,0.01,0.01,0.01,0.01,0.01,0.01,0.01,0.01,0.01,0.01,0.01,0.01,0.01,0.01,0.01,0.01,0.01,0.01,0.01,0.01,0.01,0.01,0.01,0.01,0.01,0.01,0.01,0.01,0.01,0.01,0.01,0.01,0.01,0.01,0.01,0.01,0.01,0.01,0.01,0.01,0.01,0.01,0.01,0.01,0.01,0.01,0.01,0.01,0.01,0.01,0.01,0.01,0.01,0.01,0.01,0.01,0.01,0.01,0.01,0.01,0.01,0.01,0.01,0.01,0.01,0.01,0.01,0.01,0.01,0.01,0.01,0.01,0.01,0.01,0.01,0.01,0.01,0.01,0.01,0.01,0.01,0.01,0.01,0.01,0.01,0.01,0.01,0.01,0.01,0.01,0.01,0.01,0.01,0.01,0.01,0.01,0.01,0.01,0.01],\"text\":[\"0 observations in [0,0.01]\",\"0 observations in (0.01,0.02]\",\"0 observations in (0.02,0.03]\",\"0 observations in (0.03,0.04]\",\"0 observations in (0.04,0.05]\",\"0 observations in (0.05,0.06]\",\"0 observations in (0.06,0.07]\",\"0 observations in (0.07,0.08]\",\"3 observations in (0.08,0.09]\",\"2 observations in (0.09,0.1]\",\"3 observations in (0.1,0.11]\",\"2 observations in (0.11,0.12]\",\"0 observations in (0.12,0.13]\",\"3 observations in (0.13,0.14]\",\"1 observations in (0.14,0.15]\",\"4 observations in (0.15,0.16]\",\"2 observations in (0.16,0.17]\",\"0 observations in (0.17,0.18]\",\"2 observations in (0.18,0.19]\",\"2 observations in (0.19,0.2]\",\"3 observations in (0.2,0.21]\",\"3 observations in (0.21,0.22]\",\"0 observations in (0.22,0.23]\",\"3 observations in (0.23,0.24]\",\"4 observations in (0.24,0.25]\",\"2 observations in (0.25,0.26]\",\"1 observations in (0.26,0.27]\",\"0 observations in (0.27,0.28]\",\"0 observations in (0.28,0.29]\",\"0 observations in (0.29,0.3]\",\"0 observations in (0.3,0.31]\",\"0 observations in (0.31,0.32]\",\"0 observations in (0.32,0.33]\",\"0 observations in (0.33,0.34]\",\"0 observations in (0.34,0.35]\",\"0 observations in (0.35,0.36]\",\"0 observations in (0.36,0.37]\",\"0 observations in (0.37,0.38]\",\"0 observations in (0.38,0.39]\",\"0 observations in (0.39,0.4]\",\"0 observations in (0.4,0.41]\",\"0 observations in (0.41,0.42]\",\"0 observations in (0.42,0.43]\",\"0 observations in (0.43,0.44]\",\"0 observations in (0.44,0.45]\",\"0 observations in (0.45,0.46]\",\"0 observations in (0.46,0.47]\",\"0 observations in (0.47,0.48]\",\"0 observations in (0.48,0.49]\",\"0 observations in (0.49,0.5]\",\"0 observations in (0.5,0.51]\",\"0 observations in (0.51,0.52]\",\"0 observations in (0.52,0.53]\",\"0 observations in (0.53,0.54]\",\"0 observations in (0.54,0.55]\",\"0 observations in (0.55,0.56]\",\"0 observations in (0.56,0.57]\",\"0 observations in (0.57,0.58]\",\"0 observations in (0.58,0.59]\",\"0 observations in (0.59,0.6]\",\"0 observations in (0.6,0.61]\",\"0 observations in (0.61,0.62]\",\"0 observations in (0.62,0.63]\",\"0 observations in (0.63,0.64]\",\"0 observations in (0.64,0.65]\",\"0 observations in (0.65,0.66]\",\"0 observations in (0.66,0.67]\",\"0 observations in (0.67,0.68]\",\"0 observations in (0.68,0.69]\",\"0 observations in (0.69,0.7]\",\"0 observations in (0.7,0.71]\",\"1 observations in (0.71,0.72]\",\"0 observations in (0.72,0.73]\",\"0 observations in (0.73,0.74]\",\"0 observations in (0.74,0.75]\",\"0 observations in (0.75,0.76]\",\"0 observations in (0.76,0.77]\",\"0 observations in (0.77,0.78]\",\"0 observations in (0.78,0.79]\",\"0 observations in (0.79,0.8]\",\"0 observations in (0.8,0.81]\",\"0 observations in (0.81,0.82]\",\"0 observations in (0.82,0.83]\",\"0 observations in (0.83,0.84]\",\"0 observations in (0.84,0.85]\",\"0 observations in (0.85,0.86]\",\"0 observations in (0.86,0.87]\",\"0 observations in (0.87,0.88]\",\"0 observations in (0.88,0.89]\",\"0 observations in (0.89,0.9]\",\"0 observations in (0.9,0.91]\",\"0 observations in (0.91,0.92]\",\"0 observations in (0.92,0.93]\",\"0 observations in (0.93,0.94]\",\"0 observations in (0.94,0.95]\",\"0 observations in (0.95,0.96]\",\"0 observations in (0.96,0.97]\",\"0 observations in (0.97,0.98]\",\"0 observations in (0.98,0.99]\",\"0 observations in (0.99,1]\"],\"hoverinfo\":[\"text\",\"text\",\"text\",\"text\",\"text\",\"text\",\"text\",\"text\",\"text\",\"text\",\"text\",\"text\",\"text\",\"text\",\"text\",\"text\",\"text\",\"text\",\"text\",\"text\",\"text\",\"text\",\"text\",\"text\",\"text\",\"text\",\"text\",\"text\",\"text\",\"text\",\"text\",\"text\",\"text\",\"text\",\"text\",\"text\",\"text\",\"text\",\"text\",\"text\",\"text\",\"text\",\"text\",\"text\",\"text\",\"text\",\"text\",\"text\",\"text\",\"text\",\"text\",\"text\",\"text\",\"text\",\"text\",\"text\",\"text\",\"text\",\"text\",\"text\",\"text\",\"text\",\"text\",\"text\",\"text\",\"text\",\"text\",\"text\",\"text\",\"text\",\"text\",\"text\",\"text\",\"text\",\"text\",\"text\",\"text\",\"text\",\"text\",\"text\",\"text\",\"text\",\"text\",\"text\",\"text\",\"text\",\"text\",\"text\",\"text\",\"text\",\"text\",\"text\",\"text\",\"text\",\"text\",\"text\",\"text\",\"text\",\"text\",\"text\"],\"textposition\":[\"none\",\"none\",\"none\",\"none\",\"none\",\"none\",\"none\",\"none\",\"none\",\"none\",\"none\",\"none\",\"none\",\"none\",\"none\",\"none\",\"none\",\"none\",\"none\",\"none\",\"none\",\"none\",\"none\",\"none\",\"none\",\"none\",\"none\",\"none\",\"none\",\"none\",\"none\",\"none\",\"none\",\"none\",\"none\",\"none\",\"none\",\"none\",\"none\",\"none\",\"none\",\"none\",\"none\",\"none\",\"none\",\"none\",\"none\",\"none\",\"none\",\"none\",\"none\",\"none\",\"none\",\"none\",\"none\",\"none\",\"none\",\"none\",\"none\",\"none\",\"none\",\"none\",\"none\",\"none\",\"none\",\"none\",\"none\",\"none\",\"none\",\"none\",\"none\",\"none\",\"none\",\"none\",\"none\",\"none\",\"none\",\"none\",\"none\",\"none\",\"none\",\"none\",\"none\",\"none\",\"none\",\"none\",\"none\",\"none\",\"none\",\"none\",\"none\",\"none\",\"none\",\"none\",\"none\",\"none\",\"none\",\"none\",\"none\",\"none\"],\"marker\":{\"color\":\"rgba(89,89,89,1)\",\"line\":{\"color\":\"rgba(89,89,89,1)\"}},\"textfont\":{\"color\":\"rgba(89,89,89,1)\"},\"error_y\":{\"color\":\"rgba(89,89,89,1)\"},\"error_x\":{\"color\":\"rgba(89,89,89,1)\"},\"xaxis\":\"x\",\"yaxis\":\"y2\",\"frame\":null}],\"layout\":{\"xaxis\":{\"domain\":[0,1],\"automargin\":true,\"range\":[-0.0186069532444235,0.390746018132893],\"showgrid\":false,\"title\":\"Predicted\",\"anchor\":\"y2\"},\"yaxis2\":{\"domain\":[0,0.18],\"automargin\":true,\"showgrid\":false,\"anchor\":\"x\"},\"yaxis\":{\"domain\":[0.22,1],\"automargin\":true,\"range\":[-0.0186069532444235,0.390746018132893],\"showgrid\":false,\"anchor\":\"x\",\"title\":\"Observed\"},\"annotations\":[],\"shapes\":[],\"images\":[],\"width\":500,\"height\":500,\"margin\":{\"b\":40,\"l\":60,\"t\":25,\"r\":10},\"showlegend\":false,\"hovermode\":\"closest\",\"barmode\":\"overlay\",\"plot_bgcolor\":\"rgba(0, 0, 0, 0)\",\"paper_bgcolor\":\"rgba(0, 0, 0, 0)\",\"fig_bgcolor\":\"rgba(0, 0, 0, 0)\"},\"attrs\":{\"1d3037255e0a\":{\"x\":{},\"y\":{},\"hovertemplate\":\"<b>%{xaxis.title.text}:<\\/b> %{x:.2f}<br><b>%{yaxis.title.text}:<\\/b> %{y:.2f}<extra><\\/extra>\",\"color\":{},\"colors\":[\"grey\",\"black\"],\"alpha_stroke\":1,\"sizes\":[10,100],\"spans\":[1,20],\"type\":\"scatter\",\"mode\":\"lines\",\"inherit\":true},\"1d30754c541e\":{\"alpha_stroke\":1,\"sizes\":[10,100],\"spans\":[1,20],\"x\":{},\"y\":{},\"type\":\"bar\",\"width\":0.01,\"color\":[\"grey35\"],\"text\":{},\"hoverinfo\":\"text\",\"textposition\":\"none\",\"inherit\":true}},\"source\":\"A\",\"config\":{\"modeBarButtonsToAdd\":[\"hoverclosest\",\"hovercompare\"],\"showSendToCloud\":false,\"displayModeBar\":false},\"highlight\":{\"on\":\"plotly_click\",\"persistent\":false,\"dynamic\":false,\"selectize\":false,\"opacityDim\":0.2,\"selected\":{\"opacity\":1},\"debounce\":0},\"subplot\":true,\"shinyEvents\":[\"plotly_hover\",\"plotly_click\",\"plotly_selected\",\"plotly_relayout\",\"plotly_brushed\",\"plotly_brushing\",\"plotly_clickannotation\",\"plotly_doubleclick\",\"plotly_deselect\",\"plotly_afterplot\",\"plotly_sunburstclick\"],\"base_url\":\"https://plot.ly\"},\"evals\":[],\"jsHooks\":[]}</script>\n```\n:::\n:::\n\n:::\n:::\n\n# Utility **ğŸ‘Œ**\n\n## Utility **ğŸ‘Œ** {.smaller}\n\n$$\\begin{aligned}\n\\\\{\\text{Net Benefit}} = \\frac{\\text{TP}}{\\text{N}} - \\frac{\\text{FP}}{\\text{N}} * {\\frac{{p_{t}}}{{1 - p_{t}}}}\n\\end{aligned}$$\n\n-   In order to make a decision, we need to optimize utility. This requires some kind of price from the clinicians.\\\n    This price is the odds of the probability threshold.\n\n-   Unlike other performance metrics, NB is based on decision making theory (which is reasonable, because we want to do better decision making).\n\n-   Always consider two baseline approaches: Treat All and Treat None.\n\n## Utility **ğŸ‘Œ**\n\n$$\\begin{aligned}\n\\scriptsize{\n\\\\{\\text{Net Benefit}} = \\frac{\\text{TP}}{\\text{N}} - \\frac{\\text{FP}}{\\text{N}} * {\\frac{{p_{t}}}{{1 - p_{t}}}}}\n\\end{aligned}$$\n\n$$\\begin{aligned}\n\\scriptsize{\n\\text{Net Benefit Treat All} = {\\text{Prevalence}} -  {\\text{(1 - Prevalence)}} *{\\frac{{p_{t}}}{{1 - p_{t}}}}}\n\\end{aligned}$$\n\n$$\\begin{aligned}\n\\scriptsize{\n\\text{Net Benefit Treat None} = {\\text{0}} \n}\n\\end{aligned}$$\n\n## Utility **ğŸ‘Œ** {.smaller}\n\n::: columns\n::: {.column width=\"50%\"}\nI will be indifferent ğŸ˜ for having 1 **TP** for 4 **FP** $$p_t = \\frac{1}{1 + 4} = 0.2$$ $$\\frac{p_t}{1 - p_t} = \\frac{0.2}{1 - 0.2} = \\frac{1}{4}$$\n\n$$\\begin{aligned}[t]\n{\\text{Net Benefit}} &= {\\frac{\\text{1}}{\\text{5}} - \\frac{\\text{4}}{\\text{5}} * {\\frac{1}{4}} = 0}\n\\end{aligned}$$\n:::\n\n::: {.column width=\"50%\"}\n![](indifferent.svg)\n:::\n:::\n\n## Utility **ğŸ‘Œ** {.smaller}\n\n::: columns\n::: {.column width=\"50%\"}\nI will be sad ğŸ™ for having 1 **TP** for 5 **FP** $$p_t = \\frac{1}{1 + 4} = 0.2$$ $$\\frac{p_t}{1 - p_t} = \\frac{0.2}{1 - 0.2} = \\frac{1}{4}$$ $$\\begin{aligned}[t]\n{\\text{Net Benefit}} &= {\\frac{\\text{1}}{\\text{6}} - \\frac{\\text{5}}{\\text{6}} * {\\frac{1}{4}} = -0.04166'}\n\\end{aligned}$$\n:::\n\n::: {.column width=\"50%\"}\n![](sad.svg)\n:::\n:::\n\n## Utility **ğŸ‘Œ** {.smaller}\n\n::: columns\n::: {.column width=\"50%\"}\nI will be happy ğŸ™‚ for having 1 **TP** for 3 **FP** $$p_t = \\frac{1}{1 + 4} = 0.2$$ $$\\frac{p_t}{1 - p_t} = \\frac{0.2}{1 - 0.2} = \\frac{1}{4}$$\n\n$$\\begin{aligned}[t]\n{\\text{Net Benefit}} &= {\\frac{\\text{1}}{\\text{4}} - \\frac{\\text{3}}{\\text{4}} * {\\frac{1}{4}} = 0.0625}\n\\end{aligned}$$\n:::\n\n::: {.column width=\"50%\"}\n![](happy.svg)\n:::\n:::\n\n## Utility **ğŸ‘Œ** {.smaller}\n\nTODO: Rtichoke Decision Curve\n\n# Thank You! ğŸ‘‹\n",
    "supporting": [
      "performance_evaluation_of_prediction_models_files"
    ],
    "filters": [
      "rmarkdown/pagebreak.lua"
    ],
    "includes": {
      "include-in-header": [
        "<script src=\"performance_evaluation_of_prediction_models_files/libs/core-js-2.5.3/shim.min.js\"></script>\r\n<script src=\"performance_evaluation_of_prediction_models_files/libs/react-17.0.0/react.min.js\"></script>\r\n<script src=\"performance_evaluation_of_prediction_models_files/libs/react-17.0.0/react-dom.min.js\"></script>\r\n<script src=\"performance_evaluation_of_prediction_models_files/libs/reactwidget-1.0.0/react-tools.js\"></script>\r\n<script src=\"performance_evaluation_of_prediction_models_files/libs/htmlwidgets-1.5.4/htmlwidgets.js\"></script>\r\n<script src=\"performance_evaluation_of_prediction_models_files/libs/reactable-binding-0.3.0/reactable.js\"></script>\r\n<script src=\"performance_evaluation_of_prediction_models_files/libs/plotly-binding-4.10.0/plotly.js\"></script>\r\n<script src=\"performance_evaluation_of_prediction_models_files/libs/typedarray-0.1/typedarray.min.js\"></script>\r\n<script src=\"performance_evaluation_of_prediction_models_files/libs/jquery-3.5.1/jquery.min.js\"></script>\r\n<link href=\"performance_evaluation_of_prediction_models_files/libs/crosstalk-1.2.0/css/crosstalk.min.css\" rel=\"stylesheet\" />\r\n<script src=\"performance_evaluation_of_prediction_models_files/libs/crosstalk-1.2.0/js/crosstalk.min.js\"></script>\r\n<link href=\"performance_evaluation_of_prediction_models_files/libs/plotly-htmlwidgets-css-2.5.1/plotly-htmlwidgets.css\" rel=\"stylesheet\" />\r\n<script src=\"performance_evaluation_of_prediction_models_files/libs/plotly-main-2.5.1/plotly-latest.min.js\"></script>\r\n"
      ],
      "include-after-body": [
        "\r\n<script>\r\n  // htmlwidgets need to know to resize themselves when slides are shown/hidden.\r\n  // Fire the \"slideenter\" event (handled by htmlwidgets.js) when the current\r\n  // slide changes (different for each slide format).\r\n  (function () {\r\n    function fireSlideChanged(previousSlide, currentSlide) {\r\n\r\n      // dispatch for htmlwidgets\r\n      const event = window.document.createEvent(\"Event\");\r\n      event.initEvent(\"slideenter\", true, true);\r\n      window.document.dispatchEvent(event);\r\n\r\n      // dispatch for shiny\r\n      if (window.jQuery) {\r\n        if (previousSlide) {\r\n          window.jQuery(previousSlide).trigger(\"hidden\");\r\n        }\r\n        if (currentSlide) {\r\n          window.jQuery(currentSlide).trigger(\"shown\");\r\n        }\r\n      }\r\n    }\r\n\r\n    // hookup for reveal\r\n    if (window.Reveal) {\r\n      window.Reveal.addEventListener(\"slidechanged\", function(event) {\r\n        fireSlideChanged(event.previousSlide, event.currentSlide);\r\n      });\r\n    }\r\n\r\n    // hookup for slidy\r\n    if (window.w3c_slidy) {\r\n      window.w3c_slidy.add_observer(function (slide_num) {\r\n        // slide_num starts at position 1\r\n        fireSlideChanged(null, w3c_slidy.slides[slide_num - 1]);\r\n      });\r\n    }\r\n\r\n  })();\r\n</script>\r\n\r\n"
      ]
    },
    "engineDependencies": {},
    "preserve": {},
    "postProcess": true
  }
}